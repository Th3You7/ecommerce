(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{473:function(e,t){},475:function(e,t){},505:function(e,t){},506:function(e,t){},616:function(e,t){},889:function(e,t,a){},890:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),i=a.n(c),o=a(11),l=a(12),s=a.n(l),d=a(17),u=a(22),p=a.n(u),j="PRODUCTS_REQUEST",b="PRODUCTS_SUCCESS",h="PRODUCTS_FAIL",O="PRODUCT_DETAILS_REQUEST",f="PRODUCT_DETAILS_SUCCESS",m="PRODUCT_DETAILS_FAIL",g="ALL_PRODUCTS_REQUEST",v="ALL_PRODUCTS_SUCCESS",x="ALL_PRODUCTS_FAIL",y="RESET_PRODUCT",S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j}),t.prev=1,t.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/store/".concat(e));case 4:n=t.sent,r=n.data,a({type:b,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:h,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},C="CATEGORIES_REQUEST",w="CATEGORIES_SUCCESS",E="CATEGORIES_FAIL",k="ADD_CATEGORY_REQUEST",N="ADD_CATEGORY_SUCCESS",R="ADD_CATEGORY_FAIL",_="REMOVE_CATEGORY_REQUEST",T="REMOVE_CATEGORY_SUCCESS",I="REMOVE_CATEGORY_FAIL",A="RESET_CATEGORY",P=function(){return function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/category/all");case 4:a=e.sent,n=a.data,t({type:w,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:E,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(e){e({type:A})}},L=a(79),F=a(202),B=a(426),z=a(33),U=a(13),V=a(266),W=a(945),M=a(946),G=a(117),Q=a(949),q=a(947),Y=a(948),H=a(950),X=a(951),J=a(952),$=a(8),K=a(131),Z=a(941),ee=a(942),te=a(4),ae={overrides:{MuiCardContent:{root:{"&:last-child":{paddingBottom:8}}}},props:{MuiLink:{underline:"none",color:"textPrimary"}},breakpoints:{values:{xs:0,sm:576,md:768,lg:992,xl:1200}},palette:{type:localStorage.getItem("theme")||"light",primary:{main:"#333333",light:"#5c5c5c",dark:"#0c0c0c",contrastText:"#ffffff"},secondary:{main:"#f8d9e0",dark:"#c5a7ae",contrastText:"#333333"},text:{primary:localStorage.getItem("theme")&&"dark"===localStorage.getItem("theme")?"#fff":"#333333",secondary:localStorage.getItem("theme")&&"dark"===localStorage.getItem("theme")?"rgba(255, 255, 255, 0.7)":"#828282"}},typography:{body2:{fontWeight:"700"}}},ne=function(){var e=Object(n.useState)(ae),t=Object($.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object($.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){var e=localStorage.getItem("theme");e?l("light"===e?"light":"dark"):(l("light"),localStorage.setItem("theme","light"))}),[]);return[a,function(){"light"===o?(l("dark"),localStorage.setItem("theme","dark")):(l("light"),localStorage.setItem("theme","light"));var e=Object(te.a)(Object(te.a)({},a),{},{palette:Object(te.a)(Object(te.a)({},a.palette),{},{type:localStorage.getItem("theme")||"light",primary:{main:"#333333",light:"#5c5c5c",dark:"#0c0c0c",contrastText:"#ffffff"},secondary:{main:"#f8d9e0",dark:"#c5a7ae",contrastText:"#333333"},text:{primary:localStorage.getItem("theme")&&"dark"===localStorage.getItem("theme")?"#fff":"#333333",secondary:localStorage.getItem("theme")&&"dark"===localStorage.getItem("theme")?"rgba(255, 255, 255, 0.7)":"#828282"}})});r(e)}]},re=a(2),ce=Object(n.createContext)(),ie=function(e){var t=e.children,a=ne(),n=Object($.a)(a,2),r=n[0],c=n[1],i=Object(K.a)(r);return Object(re.jsx)(ce.Provider,{value:{theme:r,toggleTheme:c},children:Object(re.jsxs)(Z.a,{theme:i,children:[Object(re.jsx)(ee.a,{}),t]})})},oe=Object(L.a)((function(e){return{appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})),le=Object(U.a)((function(e){return{badge:{right:-8,top:-9,padding:"0 4px"}}}))(V.a),se=function(){var e=oe(),t=Object(o.c)((function(e){return e.cartReducer})).products,a=Object(n.useContext)(ce),r=a.theme,c=a.toggleTheme,i=r.palette.type;return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(W.a,{position:"fixed",color:"inherit",className:e.appBar,children:Object(re.jsxs)(M.a,{variant:"regular",children:[Object(re.jsx)(G.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:c,children:"light"===i?Object(re.jsx)(q.a,{}):Object(re.jsx)(Y.a,{})}),Object(re.jsx)(Q.a,{color:"secondary","aria-label":"add",className:e.fabButton,component:z.b,to:"/cart",children:Object(re.jsx)(le,{badgeContent:t.length,color:"primary",overlap:"circle",children:Object(re.jsx)(H.a,{})})}),Object(re.jsx)("div",{className:e.grow}),Object(re.jsx)(G.a,{color:"inherit",component:z.b,to:"/loan",children:Object(re.jsx)(X.a,{})}),Object(re.jsx)(G.a,{edge:"end",color:"inherit",component:z.b,to:"/admin",children:Object(re.jsx)(J.a,{})})]})})})},de=a(14),ue=a(953),pe=a(954),je=a(955),be=a(956),he=a(957),Oe=Object(L.a)((function(e){return{root:{position:function(e){return/^\/product/.test(e.pathname)?"absolute":"static"},width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1.5,0)},menuButton:{marginRight:e.spacing(2)},flexGrow:{flexGrow:2},flex:{display:"flex",alignItems:"center",justifyContent:"flex-end"},btn:{margin:e.spacing(0,1.2,0,0)}}}));function fe(e){var t=e.handleRemove,a=e.handleAdd,n=e.handleBack,r=e.handleStore,c=e.to,i=e.id,o=e.categoryId,l=e.saleId,s=e.spendingId,d=e.paymentId,u=e.productsId,p=Oe(Object(de.h)()),j=Object(de.h)().pathname,b=Object(de.i)().profileid;return Object(re.jsxs)("div",{className:p.root,children:[Object(re.jsx)(G.a,{"aria-label":"back",onClick:n,children:Object(re.jsx)(ue.a,{fontSize:"inherit"})}),/^\/cart/.test(j)&&Object(re.jsx)(G.a,{color:"inherit","aria-label":"delete",onClick:t,children:Object(re.jsx)(pe.a,{fontSize:"inherit"})}),/^\/product/.test(j)&&Object(re.jsx)(G.a,{color:"inherit","aria-label":"store",onClick:r,children:Object(re.jsx)(je.a,{})}),("/admin/allproducts"===j||"/admin/categories"===j||"/admin/sales"===j||"/admin/spending"===j||"/loan"===j||j==="/loan/".concat(b,"/payments")||j==="/loan/".concat(b,"/products"))&&Object(re.jsxs)("div",{className:p.flex,children:["/admin/sales"!==j&&j!=="/loan/".concat(b,"/products")&&Object(re.jsx)(Q.a,{color:"primary",size:"small","aria-label":"add",className:p.btn,onClick:a,children:Object(re.jsx)(be.a,{})}),(i||o||l||s||d||u)&&Object(re.jsx)(Q.a,{color:"secondary",size:"small","aria-label":"delete",className:p.btn,component:z.b,to:c,children:Object(re.jsx)(pe.a,{})}),i&&Object(re.jsx)(Q.a,{color:"default",size:"small",className:p.btn,component:z.b,"aria-label":"delete",to:{pathname:"/admin/edit/".concat(i)},children:Object(re.jsx)(he.a,{})})]})]})}var me=Object(L.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2),position:"absolute",left:0,bottom:0,width:"100%",background:"transparent"},fab:{width:"100%"}}})),ge=function(e){var t=e.handleCheck,a=me();return Object(re.jsx)("div",{className:a.root,children:Object(re.jsx)(Q.a,{variant:"extended",className:a.fab,onClick:t,children:"Check Out"})})},ve=Object(L.a)((function(e){return{paper:{display:"inline-block",margin:e.spacing(0,.5),padding:e.spacing(1),cursor:"pointer"}}})),xe=function(e){var t=e.title,a=ve(),n=Object(de.g)();return Object(re.jsx)(F.a,{className:a.paper,onClick:function(){return e=t,void n.push("/store/".concat(e.toLowerCase()));var e},children:Object(re.jsx)(B.a,{children:t.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})})},ye=a(958),Se=a(959),Ce=a(961),we=a(962),Ee=a(960),ke="ADD_TO_CART",Ne="REMOVE_FROM_CART",Re="REMOVE_ALL",_e=function(){return function(e){e({type:Re}),localStorage.clear()}},Te=Object(L.a)((function(e){return{card:{overflow:"visible",flex:"0 1 48%",display:function(e){return/^\/store/.test(e.pathname)?"block":"flex"},height:function(t){return/^\/store/.test(t.pathname)?"auto":e.spacing(12)},marginBottom:e.spacing(2)},cardContent:{width:function(e){return/^\/store/.test(e.pathname)?"100%":"70%"}},area:{width:function(e){return/^\/store/.test(e.pathname)?"100%":"30%"}},img:{width:"100%",height:function(t){return/^\/store/.test(t.pathname)?e.spacing(20):"100%"},objectFit:"fill"},price:{color:e.palette.text.secondary}}})),Ie=Object(U.a)((function(e){return{badge:{right:0,top:0,padding:"0 4px"}}}))(V.a),Ae=function(e){var t=e,a=t.id,n=t.title,r=t.price,c=t.img,i=t.fetching,l=t.soldPrice,s=t.size,d=Object(de.h)(),u=Object(o.b)(),p=Te(e=d),j=Object(de.g)(),b=/^\/cart/,h="/product/".concat(a);return Object(re.jsxs)(ye.a,{className:p.card,children:[Object(re.jsx)(Se.a,{className:p.area,children:i?Object(re.jsx)(Ee.a,{variant:"rect",height:140,width:"100%"}):Object(re.jsx)(Ce.a,{className:p.img,component:"img",alt:n,image:c,title:n,onClick:function(){u((function(e){e({type:y})})),j.push(h)}})}),Object(re.jsxs)(we.a,{className:p.cardContent,children:[i?Object(re.jsx)(Ee.a,{variant:"text",width:"70%"}):Object(re.jsx)(B.a,{component:"h4",variant:"body2",children:n.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}),b.test(d.pathname)&&Object(re.jsxs)(B.a,{variant:"subtitle2",children:["Sizes:"," ",Object.keys(s).map((function(e){return"".concat(e.toUpperCase(),": ").concat(s[e]," ")}))]}),Object(re.jsxs)("div",{style:{display:"flex"},children:[i?Object(re.jsx)(Ee.a,{variant:"text",width:"40%"}):Object(re.jsxs)(B.a,{component:"h4",variant:"body1",className:p.price,style:{marginRight:"48px"},children:[r,"DH"]}),b.test(d.pathname)&&Object(re.jsxs)(B.a,{component:"h4",variant:"body1",className:p.price,children:[l,"DH"]})]})]}),b.test(d.pathname)&&Object(re.jsx)(Ie,{color:"error",badgeContent:"X",onClick:function(){var e;u((e=a,function(t,a){t({type:Ne,payload:e}),localStorage.setItem("products",JSON.stringify(a().cartReducer.products))}))},style:{cursor:"pointer"}})]})},Pe=a(988),De=a(963),Le=Object(L.a)((function(e){return{root:{width:"95%",background:e.palette.background.paper,borderRadius:"2px",height:"35vh",margin:e.spacing(0,"auto",1.5),position:"relative"},media:{height:e.spacing(10),width:e.spacing(10),top:"-23%",left:"3%"},title:{lineHeight:".5",fontWeight:600,fontSize:e.spacing(2.2)},cover:{width:"100%",height:e.spacing(18),background:"#ebe4e4",position:"relative",top:0},info:{padding:e.spacing(0,2),marginTop:e.spacing(-4),display:"flex"},menu:{textAlign:"right",position:"absolute",left:0,top:0,width:"100%",zIndex:100},img:{width:"100%",height:"100%",position:"absolute",top:0,left:0},subtitle:{fontWeight:700}}}));function Fe(e){var t,a,n=e.name,r=e.img,c=e.productsSum,i=e.paymentsSum,o=e.phone,l=Le(),s=Object(de.g)(),d=Object(de.i)().profileid;return Object(re.jsxs)(F.a,{variant:"outlined",className:l.root,children:[Object(re.jsxs)("div",{className:l.cover,children:[Object(re.jsx)("div",{className:l.menu,children:Object(re.jsx)(G.a,{onClick:function(){s.push("/loan/".concat(d,"/edit"))},children:Object(re.jsx)(he.a,{})})}),(null===r||void 0===r?void 0:r.cover)&&Object(re.jsx)("img",{className:l.img,src:null===r||void 0===r||null===(t=r.cover)||void 0===t?void 0:t.url,alt:"cover"})]}),Object(re.jsx)(Pe.a,{alt:"admin logo",className:l.media,src:null===r||void 0===r||null===(a=r.profile)||void 0===a?void 0:a.url}),Object(re.jsxs)("div",{className:l.info,children:[Object(re.jsxs)("div",{style:{flex:"0 1 50%"},children:[Object(re.jsx)(B.a,{variant:"h5",component:"h2",color:"textPrimary",className:l.title,children:n&&n.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}),Object(re.jsxs)(B.a,{variant:"subtitle1",component:"h6",color:"textSecondary",className:l.subtitle,children:[Number(c-i)," DH"]})]}),Object(re.jsx)("div",{style:{flex:"0 1 50%"},children:Object(re.jsxs)(B.a,{variant:"subtitle1",component:"h6",color:"textSecondary",className:l.subtitle,style:{display:"flex"},children:[Object(re.jsx)(De.a,{style:{marginRight:"4px"}}),Object(re.jsx)("span",{children:o})]})})]})]})}var Be=Object(L.a)((function(e){return{root:{width:"95%",background:e.palette.background.paper,borderRadius:"2px",height:"35vh",margin:e.spacing(0,"auto",1.5),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},media:{height:e.spacing(20),width:e.spacing(20),marginBottom:e.spacing(3)},title:{lineHeight:".8"},edit:{position:"absolute",right:0,top:0},cover:{width:"100%",height:"63%",position:"absolute",top:0,left:0},img:{height:"100%",width:"100%"}}}));function ze(){var e,t,a,n,r,c,i=Be(),l=Object(de.g)(),s=Object(o.c)((function(e){return e.getProfileReducer})).result;return Object(re.jsxs)(F.a,{variant:"outlined",className:i.root,children:[Object(re.jsx)("div",{className:i.cover,children:Object(re.jsx)("img",{className:i.img,src:null===s||void 0===s||null===(e=s.img)||void 0===e||null===(t=e.cover)||void 0===t?void 0:t.url,alt:"cover img"})}),Object(re.jsx)(G.a,{onClick:function(){l.push("/admin/edit")},className:i.edit,children:Object(re.jsx)(he.a,{})}),Object(re.jsx)(Pe.a,{alt:"admin logo",src:null===s||void 0===s||null===(a=s.img)||void 0===a||null===(n=a.profile)||void 0===n?void 0:n.url,className:i.media}),s?Object(re.jsxs)("div",{className:i.info,children:[Object(re.jsx)(B.a,{variant:"h4",component:"h2",color:"textPrimary",align:"center",className:i.title,children:null===s||void 0===s||null===(r=s.storeName)||void 0===r?void 0:r.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}),Object(re.jsx)(B.a,{variant:"subtitle1",component:"h6",color:"textSecondary",align:"center",className:i.subtitle,children:null===s||void 0===s||null===(c=s.name)||void 0===c?void 0:c.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})]}):Object(re.jsx)("p",{children:"loading"})]})}var Ue=Object(L.a)((function(e){return{paper:{width:"95%",height:e.spacing(6),margin:e.spacing(0,"auto",.5),padding:e.spacing(1),display:"flex",alignItems:"center",cursor:"pointer"},flex:{display:"flex",alignItems:"center"},p:{margin:e.spacing(0,0,0,1.5)}}}));function Ve(e){var t=e.children,a=e.name,n=e.path,r=Ue(),c=Object(de.g)();return Object(re.jsx)(F.a,{variant:"outlined",className:r.paper,elevation:0,onClick:function(){c.push(n)},children:Object(re.jsxs)("div",{className:r.flex,children:[t,Object(re.jsx)("p",{className:r.p,children:a})]})})}var We=a(191),Me=a.n(We),Ge=a(78),Qe=a.n(Ge);function qe(e){var t=e.options;return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(Me.a,{highcharts:Qe.a,options:t,constructorType:"stockChart"})})}function Ye(e){var t=e.options;return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(Me.a,{highcharts:Qe.a,options:t})})}var He=a(19);function Xe(e){var t=e.name,a=e.qty,n=e.unitPrice;return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px 10px",textAlign:"center"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:a})}),Object(re.jsx)(He.View,{style:{flex:"0 1 55% ",padding:"4px 8px 10px"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:t})}),Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px 10px",textAlign:"right"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:n})}),Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px 10px",textAlign:"right"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:n*a})})]})}var Je=He.StyleSheet.create({page:{width:"100%",display:"inline-block",padding:"16px"},flex:{display:"flex",flexDirection:"row",marginBottom:48},store:{display:"flex",flexDirection:"column",flex:"0 1 50%"},logo:{flex:"0 1 50%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},billInfo:{display:"flex",flexDirection:"row"},billTo:{display:"flex",flexDirection:"column",flex:"0 1 50%",marginBottom:20},billDetails:{flex:"0 1 50%"}});function $e(e){var t=e.data,a=t.client,n=t.invoiceId,r=t.products,c=t.date,i=t.total,o=t.paymentMethod,l=t.advance;return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(He.Document,{children:Object(re.jsxs)(He.Page,{style:Je.page,size:"A4",children:[Object(re.jsxs)(He.View,{style:Je.flex,children:[Object(re.jsxs)(He.View,{style:Je.store,children:[Object(re.jsx)(He.Text,{style:{fontSize:"30px",fontWeight:"bold",marginBottom:12},children:"Jabri Store"}),Object(re.jsx)(He.Text,{children:"Youssef Jabri"}),Object(re.jsx)(He.Text,{children:"Bradia Centre, Fquih Ben Salah"}),Object(re.jsx)(He.Text,{children:"23302"})]}),Object(re.jsx)(He.View,{style:Je.logo,children:Object(re.jsx)(He.Image,{src:"https://res.cloudinary.com/datlc9ohl/image/upload/v1630519287/437794623_cmtwlm.png",style:{height:100,width:100}})})]}),Object(re.jsxs)(He.View,{style:Je.billInfo,children:[Object(re.jsxs)(He.View,{style:Je.billTo,children:[Object(re.jsx)(He.Text,{style:{fontWeight:"bold",marginBottom:"5px"},children:"Bill To"}),Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:a.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})]}),Object(re.jsxs)(He.View,{style:{flex:"0 1 50%"},styles:Je.billDetails,children:[Object(re.jsxs)(He.View,{style:{marginBottom:"5px",display:"flex",flexDirection:"row"},children:[Object(re.jsx)(He.View,{style:{flex:"0 1 40%"},children:Object(re.jsx)(He.Text,{style:{fontWeight:"bold"},children:"Invoice"})}),Object(re.jsx)(He.View,{style:{flex:"0 1 60%"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:n})})]}),Object(re.jsxs)(He.View,{style:{marginBottom:"5px",display:"flex",flexDirection:"row"},children:[Object(re.jsx)(He.View,{style:{flex:"0 1 40%"},children:Object(re.jsx)(He.Text,{style:{fontWeight:"bold"},children:"Invoice Date"})}),Object(re.jsx)(He.View,{style:{flex:"0 1 60%"},children:Object(re.jsx)(He.Text,{style:{color:"#292b2c"},children:c.slice(0,c.indexOf("T"))})})]})]})]}),Object(re.jsxs)(He.View,{style:{marginTop:"30px",backgroundColor:"#292b2c",display:"flex",flexDirection:"row"},children:[Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px",textAlign:"center"},children:Object(re.jsx)(He.Text,{style:{color:"white",fontWeight:"bold"},children:"Qty"})}),Object(re.jsx)(He.View,{style:{flex:"0 1 55%",padding:"4px 8px"},children:Object(re.jsx)(He.Text,{style:{color:"white",fontWeight:"bold"},children:"Description"})}),Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px",textAlign:"right"},children:Object(re.jsx)(He.Text,{style:{color:"white",fontWeight:"bold"},children:"Unit Price"})}),Object(re.jsx)(He.View,{style:{flex:"0 1 15%",padding:"4px 8px",textAlign:"right"},children:Object(re.jsx)(He.Text,{style:{color:"white",fontWeight:"bold"},children:"Amount"})})]}),Object(re.jsx)(He.View,{style:{display:"flex",flexDirection:"row"},children:r.map((function(e){return Object(re.jsx)(Xe,{name:e.product,unitPrice:e.unitPrice,qty:Object.keys(e.sizes).reduce((function(t,a){return t+e.sizes[a]}),0)},e._id)}))}),Object(re.jsx)(He.View,{style:{justifyContent:"flex-end",textAlign:"right",display:"flex",flexDirection:"row"},children:Object(re.jsx)(He.View,{style:{flex:"0 1 40%",marginTop:"8px"},children:Object(re.jsxs)(He.View,{style:{backgroundColor:"#e3e3e3",padding:"5px",display:"flex",flexDirection:"row"},children:[Object(re.jsx)(He.View,{style:{flex:"0 1 50%",padding:"5px",textAlign:"right"},children:Object(re.jsx)(He.Text,{style:{fontWeight:"bold"},children:"TOTAL"})}),Object(re.jsxs)(He.View,{style:{display:"flex",flexDirection:"row",flex:"0 1 50%",justifyContent:"flex-end",padding:"5px"},children:[Object(re.jsx)(He.Text,{style:{color:"#292b2c",fontWeight:"bold",marginLeft:"30px"},children:"$"}),Object(re.jsx)(He.Text,{style:{fontWeight:"bold",color:"#292b2c"},children:i})]})]})})}),Object(re.jsxs)(He.View,{style:{marginTop:"30px",display:"block"},children:[Object(re.jsx)(He.Text,{style:{flex:"0 1 100%",fontWeight:"bold",fontSize:"20px"},children:"Notes"}),Object(re.jsxs)(He.Text,{style:{flex:"0 1 100%",marginLeft:"16px",color:"#292b2c"},children:["Payment Method: ",o]}),Object(re.jsxs)(He.Text,{style:{flex:"0 1 100%",marginLeft:"16px",color:"#292b2c"},children:["Advance: ",l]})]})]})})})}var Ke=Object(L.a)((function(e){return{root:{padding:e.spacing(2),paddingBottom:e.spacing(10)},carousel:{display:"flex",scrollbarWidth:"none",overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",padding:e.spacing(.2),marginBottom:e.spacing(3.5),"&::-webkit-scrollbar":{display:"none"}},title:{marginBottom:e.spacing(1.5),fontWeight:700},products:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}}})),Ze=function(){var e=Ke(),t=Object(o.b)(),a=Object(de.i)().ctgry,r=Object(o.c)((function(e){return e.productsReducer})),c=r.fetching,i=r.products,l=r.error,s=Object(o.c)((function(e){return e.categoriesReducer}));Object(n.useEffect)((function(){t(P())}),[t]),Object(n.useEffect)((function(){t(a?S(a):S())}),[t,a]);return l||Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)("div",{className:e.carousel,children:s.fetching?[1,2,3,4].map((function(e,t){return Object(re.jsx)(F.a,{style:{marginRight:"8px",padding:"8px"},children:Object(re.jsx)(Ee.a,{variant:"text",width:60,height:20})},t)})):s.categories.map((function(e){return Object(re.jsx)(xe,{title:e.name},e._id)}))}),Object(re.jsx)(B.a,{className:e.title,component:"h2",variant:"h5",children:"Products"}),Object(re.jsxs)("div",{className:e.products,children:[i.map((function(e){var t;return Object(re.jsx)(Ae,{id:e._id,title:e.name,price:e.price,img:null===e||void 0===e||null===(t=e.img)||void 0===t?void 0:t.url,fetching:c},e._id||e)})),0===i.length&&a&&Object(re.jsxs)(B.a,{children:["No ",a.replace(a[0],a[0].toUpperCase())," Products In The Stock"]})]}),Object(re.jsx)(se,{})]})},et=a(34),tt=a(43),at=a(26),nt=a(143),rt=a(894),ct=a(989),it=a(895),ot=a(987),lt=a(896),st=a(427),dt=Object(L.a)((function(e){return{root:{width:"100%",position:"relative",height:"100vh"},img:{width:"100%",height:"52vh"},content:{padding:e.spacing(2)},textField:{display:"block",marginTop:e.spacing(3)},fab:{width:"94%",left:"50%",transform:"translateX(-50%)",position:"absolute",bottom:10},price:{color:e.palette.text.secondary},p:{color:e.palette.error.dark}}})),ut=at.d().shape({size:at.e().required(),soldPrice:at.c().required()});function pt(){var e,t,a=Object(de.g)(),r=dt(),c=Object(de.i)().id,i=Object(o.b)(),l=Object(o.c)((function(e){return e.productDetailsReducer})),u=l.fetching,j=l.error,b=l.product,h=Object(o.c)((function(e){return e.cartReducer})).products,g=Object(et.c)({resolver:Object(tt.yupResolver)(ut)}),v=g.control,x=g.handleSubmit,y=g.register,S=g.formState.errors;Object(n.useEffect)((function(){var e;i((e=c,function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:O}),t.prev=1,t.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/product/".concat(e));case 4:n=t.sent,r=n.data,a({type:f,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[c,i]);return u?"loading":j?"error":Object(re.jsxs)("div",{className:r.root,children:[Object(re.jsx)(fe,{handleBack:function(){a.goBack()},handleStore:function(){a.replace("/cart")}}),j&&j,b&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("img",{className:r.img,src:null===b||void 0===b||null===(e=b.img)||void 0===e?void 0:e.url,alt:b.name}),Object(re.jsxs)("div",{className:r.content,children:[Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(re.jsx)(B.a,{component:"h2",variant:"h6",gutterBottom:!0,children:b.name}),Object(re.jsxs)(B.a,{component:"h2",variant:"h6",gutterBottom:!0,className:r.price,children:[b.price,"DH"]})]}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:x((function(e){var t=e.size,n=e.soldPrice;i(function(e){return function(t,a){t({type:ke,payload:e}),localStorage.setItem("products",JSON.stringify(a().cartReducer.products))}}(Object(te.a)(Object(te.a)({},b),{},{size:t,soldPrice:n}))),a.replace("/cart/".concat(c,"?size=").concat(t,"&soldPrice=").concat(n))})),children:[Object(re.jsxs)(nt.a,{error:!!S.size,children:[Object(re.jsx)(rt.a,{component:"legend",children:"Size "}),0===Object.keys(b.availableSizes).reduce((function(e,t){return e+Number(b.availableSizes[t])}),0)&&Object(re.jsx)("p",{className:r.p,children:"Out of stock"}),Object(re.jsx)(et.a,{name:"size",control:v,defaultValue:null,rules:{required:!0},render:function(e){return Object(re.jsx)(ct.a,{value:e.value,onChange:function(t){return e.onChange(t.target.value)},row:!0,children:Object.keys(b.availableSizes).map((function(e){if(Number(b.availableSizes[e])>0){var t=h.find((function(e){return e._id===b._id}))&&Number(h.find((function(e){return e._id===b._id})).size[e])?Number(h.find((function(e){return e._id===b._id})).size[e]):0;return Number(b.availableSizes[e])-t>0?Object(re.jsx)(it.a,{value:e,label:e.toUpperCase(),control:Object(re.jsx)(ot.a,{})},e):null}return null}))})}}),S.size?Object(re.jsx)(lt.a,{children:"Select Size"}):null]}),Object(re.jsx)(st.a,{className:r.textField,id:"outlined-number",label:"Sold Price",name:"soldPrice",InputLabelProps:{shrink:!0},variant:"outlined",inputRef:y,error:!!S.soldPrice,helperText:null===(t=S.soldPrice)||void 0===t?void 0:t.message.slice(0,29)}),Object(re.jsx)(Q.a,{color:"primary",variant:"extended",className:r.fab,type:"submit",children:"Add To Cart"})]})]})]})]})}var jt=Object(L.a)((function(e){return{root:{minHeight:"100vh",position:"relative",paddingBottom:e.spacing(8)},product:{width:"90%",margin:"0 auto"},total:{width:"90%",margin:"8px auto 0",padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between"}}})),bt=function(){var e=jt(),t=Object(o.c)((function(e){return e.cartReducer})).products,a=Object(de.g)(),n=Object(o.b)(),r=t.reduce((function(e,t){return e+Number(t.soldPrice)*Object.keys(t.size).reduce((function(e,a){return e+t.size[a]}),0)}),0);return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){a.push("/store")},handleRemove:function(){n(_e())}}),Object(re.jsx)("div",{children:t&&t.map((function(t,a){var n;return Object(re.jsx)("div",{className:e.product,children:Object(re.jsx)(Ae,{id:t._id,title:t.name,price:t.price,size:t.size,img:null===t||void 0===t||null===(n=t.img)||void 0===n?void 0:n.url,soldPrice:t.soldPrice})},a)}))}),Object(re.jsxs)("div",{className:e.total,children:[Object(re.jsxs)("div",{children:[Object(re.jsxs)(B.a,{component:"span",variant:"body2",children:["Earning:"," "]}),Object(re.jsxs)(B.a,{component:"span",variant:"body1",children:[function(){var e=t.reduce((function(e,t){return e+Number(t.price)*Object.keys(t.size).reduce((function(e,a){return e+t.size[a]}),0)}),0);return r-e}(),"DH"]})]}),Object(re.jsxs)("div",{children:[Object(re.jsxs)(B.a,{component:"span",variant:"body2",children:["Subtotal:"," "]}),Object(re.jsxs)(B.a,{component:"span",variant:"body1",children:[r,"DH"]})]})]}),Object(re.jsx)(ge,{handleCheck:function(){t.length&&a.push("/confirm")}})]})},ht=a(964),Ot=a(965),ft=a(966),mt=a(967),gt=a(968),vt=a(969),xt=a(970),yt="EDIT_REQUEST",St="EDIT_SUCCESS",Ct="EDIT_FAIL",wt="ADD_REQUEST",Et="ADD_SUCCESS",kt="ADD_FAIL",Nt="DELETE_REQUEST",Rt="DELETE_SUCCESS",_t="DELETE_FAIL",Tt="EDIT_PROFILE_REQUEST",It="EDIT_PROFILE_SUCCESS",At="EDIT_PROFILE_FAIL",Pt="GET_PROFILE_REQUEST",Dt="GET_PROFILE_SUCCESS",Lt="GET_PROFILE_FAIL",Ft="LOGIN_REQUEST",Bt="LOGIN_SUCCESS",zt="LOGIN_FAIL",Ut="LOGOUT",Vt="RESET";p.a.interceptors.request.use((function(e){return localStorage.getItem("admin")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("admin")).token)),e}));var Wt=function(){return function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pt}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/admin/getProfile");case 4:a=e.sent,n=a.data,t({type:Dt,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:Lt,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Mt=function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:wt}),t.prev=1,t.next=4,p.a.post("https://manage-commerce.herokuapp.com/api/admin/addproduct",e);case 4:n=t.sent,a({type:Et,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:kt,payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Gt=function(){return function(e){e({type:Vt})}},Qt=[{name:"Wallets",path:"/wallet",icon:Object(re.jsx)(ht.a,{})},{name:"Dashboard",path:"/dashboard",icon:Object(re.jsx)(Ot.a,{})},{name:"Categories",path:"/categories",icon:Object(re.jsx)(ft.a,{})},{name:"Products",path:"/allproducts",icon:Object(re.jsx)(mt.a,{})},{name:"Sales",path:"/sales",icon:Object(re.jsx)(gt.a,{})},{name:"Invoices",path:"/invoices",icon:Object(re.jsx)(vt.a,{})},{name:"Spending",path:"/spending",icon:Object(re.jsx)(xt.a,{})}],qt=Object(L.a)((function(e){return{root:{}}}));function Yt(){var e=qt(),t=Object(de.g)(),a=Object(o.b)(),r=Object(o.c)((function(e){return e.getProfileReducer})).result;Object(n.useEffect)((function(){a(Wt())}),[a]);return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){t.replace("/store")}}),Object(re.jsx)(ze,{data:r}),Qt.map((function(e,t){return Object(re.jsx)(Ve,{name:e.name,path:"/admin".concat(e.path),children:e.icon},t)}))]})}var Ht=a(118),Xt=a(901),Jt=a(990),$t=a(971),Kt=a(972),Zt=a(986),ea=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},root:{width:"100%"},title:{marginBottom:e.spacing(1.5),fontWeight:700},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)}}})),ta=at.d().shape({name:at.e().required(),storeName:at.e().required()});function aa(){var e,t,a=ea(),r=Object(de.g)(),c=Object(o.b)(),i=Object(o.c)((function(e){return e.getProfileReducer})).result,l=Object(o.c)((function(e){return e.editProfileReducer})),u=l.loading,j=l.error,b=l.response,h=Object(n.useState)(""),O=Object($.a)(h,2),f=O[0],m=O[1],g=Object(n.useState)(""),v=Object($.a)(g,2),x=v[0],y=v[1],S=Object(n.useState)(!1),C=Object($.a)(S,2),w=C[0],E=C[1],k=Object(n.useState)(""),N=Object($.a)(k,2),R=N[0],_=N[1],T=Object(n.useState)(""),I=Object($.a)(T,2),A=I[0],P=I[1],D=Object(et.c)({resolver:Object(tt.yupResolver)(ta)}),L=D.register,F=D.handleSubmit,z=D.formState.errors,U=Object(n.useState)(!1),V=Object($.a)(U,2),W=V[0],M=V[1];Object(n.useEffect)((function(){c(Wt())}),[c]),Object(n.useEffect)((function(){b&&M(!0)}),[b]);var Q=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),a=t.target.files[0],(n=new FormData).append("adminProfile",a),f&&n.append("public_id",f.public_id),e.prev=5,e.next=8,p.a.post("/api/admin/upload/adminimg",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,m(c),E(!1),P(""),n.delete("adminProfile"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),P(e.t0.message),E(!1),n.delete("adminProfile");case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),a=t.target.files[0],(n=new FormData).append("adminCover",a),x&&n.append("public_id",x.public_id),e.prev=5,e.next=8,p.a.post("/api/admin/upload/admincover",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,E(!1),y(c),_(""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),_(e.t0.message),E(!1);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(n.useCallback)((function(e,t){"clickaway"!==t&&M(!1)}),[]);return Object(re.jsxs)("div",{className:a.root,children:[Object(re.jsx)(fe,{handleBack:function(){r.goBack(),c(Gt())}}),Object(re.jsxs)("div",{className:a.container,children:[Object(re.jsx)(B.a,{className:a.title,component:"h2",variant:"h5",children:"Edit Admin Profile"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:F((function(e){var t,a={};if(f){var n=f.imageUrl,r=f.public_id;a.profile={url:n,public_id:r}}if(x){var o=x.imageUrl,l=x.public_id;a.cover={url:o,public_id:l}}c((t=Object(te.a)(Object(te.a)({},e),{},{id:null===i||void 0===i?void 0:i._id,img:a}),function(){var e=Object(d.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Tt}),e.prev=1,e.next=4,p.a.put("https://manage-commerce.herokuapp.com/api/admin/editProfile",t);case 4:n=e.sent,a({type:It,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:At,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))})),children:[Object(re.jsx)(st.a,{error:!!z.name,label:"Store Name",name:"storeName",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:L,defaultValue:null===i||void 0===i?void 0:i.storeName,helperText:null===(e=z.name)||void 0===e?void 0:e.message})," ",Object(re.jsx)(st.a,{error:!!z.name,label:"Name",name:"name",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:L,defaultValue:null===i||void 0===i?void 0:i.name,helperText:null===(t=z.name)||void 0===t?void 0:t.message}),!w&&!b&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"profile",accept:"image/*",className:a.input,id:"icon-button-profile",type:"file",style:{display:"none"},ref:L,onChange:Q}),!b&&Object(re.jsxs)("label",{htmlFor:"icon-button-profile",children:["Profile Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),f&&Object(re.jsx)("p",{style:{marginTop:0},children:f.originalname}),A&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"Profile: Something went wrong"})]}),Object(re.jsx)("br",{}),Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"cover",accept:"image/*",className:a.input,id:"icon-button-cover",type:"file",style:{display:"none"},ref:L,onChange:q}),Object(re.jsxs)("label",{htmlFor:"icon-button-cover",children:["Cover Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),x&&Object(re.jsx)("p",{style:{marginTop:0},children:x.originalname}),R&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"Cover: Something went wrong!"}),Object(re.jsx)("br",{})]})," "]}),!w&&!b&&!u&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:a.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",style:{marginTop:"48px"},children:"Save"}),(w||u)&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:W,onClose:Y,children:Object(re.jsx)(Zt.a,{onClose:Y,severity:"success",children:"Saved successfully!"})}),j&&Object(re.jsx)(B.a,{className:a.failed,children:"Error has occured"})]})]})]})}var na=a(66),ra=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),ca=[{field:"id",hide:!0},{field:"name",headerName:"Products",width:150},{field:"price",headerName:"Price",width:70},{field:"category",headerName:"Status",width:100}];function ia(){var e=ra(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),u=l[0],j=l[1],b=Object(de.g)(),h=Object(o.b)(),O=Object(o.c)((function(e){return e.allProductsReducer})),f=O.products,m=O.fetching,y=O.error;Object(n.useEffect)((function(){h(function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:g}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/admin/allproducts");case 4:a=e.sent,n=a.data,t({type:v,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:x,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[h]);var S={pathname:"/admin/remove/".concat(r)};return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){b.replace("/admin")},handleAdd:function(){b.push("/admin/add")},id:r,to:S}),y&&y,f&&Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:u,onPageChange:function(e){j(e.page)},disableColumnMenu:!0,pageSize:10,columns:ca,onRowSelected:function(e){var t;c(e.data.id),h((t=e.data,function(e){e({type:"SELECT_PROD",payload:t})}))},rows:f,loading:m,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var oa=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),la=[{field:"id",hide:!0},{field:"name",headerName:"Categories",width:150}];function sa(){var e=oa(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),s=l[0],d=l[1],u=Object(de.g)(),p=Object(o.b)(),j=Object(o.c)((function(e){return e.categoriesReducer})),b=j.categories,h=j.fetching,O=j.error;Object(n.useEffect)((function(){p(P())}),[p]);var f={pathname:"/admin/removecategory/".concat(r)};return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){u.replace("/admin")},handleAdd:function(){u.push("/admin/addcategory")},categoryId:r,to:f}),O&&O,b&&Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:s,onPageChange:function(e){d(e.page)},disableColumnMenu:!0,pageSize:10,columns:la,onRowSelected:function(e){var t;c(e.data.id),p((t=e.data,function(e){e({type:"SELECT_PROD",payload:t})}))},rows:b,loading:h,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var da=a(198),ua=a(91),pa=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),ja=at.d().shape({name:at.e().required(),price:at.c().positive("*Price must be a positive number").required("*Price is Required"),category:at.d().required("*Category is Required"),availableSize:at.a().min(1),availableSizeValue:at.a().min(1),image:at.b()});function ba(){var e,t,a=Object(et.c)({resolver:Object(tt.yupResolver)(ja)}),r=a.register,c=a.handleSubmit,i=a.formState.errors,l=a.control,u=Object(n.useState)(!1),j=Object($.a)(u,2),b=j[0],h=j[1],O=pa(),f=Object(de.g)(),m=Object(de.i)().id,g=Object(o.b)(),v=Object(o.c)((function(e){return e.currSelProdReducer})),x=v.name,y=v.price,S=v.category,C=v.availableSizes,w=v.img,E=Object(o.c)((function(e){return e.editReducer})),k=E.loading,N=E.result,R=E.error,_=Object(o.c)((function(e){return e.categoriesReducer})).categories,T=Object(n.useState)(""),I=Object($.a)(T,2),A=I[0],P=I[1],D=Object(n.useState)(w),L=Object($.a)(D,2),F=L[0],z=L[1],U=Object(n.useState)(""),V=Object($.a)(U,2),W=V[0],M=V[1];Object(n.useEffect)((function(){N&&h(!0)}),[h,N]);var Q=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),a=t.target.files[0],(n=new FormData).append("image",a),n.append("public_id",F.public_id),e.prev=5,e.next=8,p.a.post("/api/admin/upload/addimg",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,z(c),P(!1),M(""),n.delete("image"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),M(e.t0.message),P(!1),n.delete("image");case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(n.useCallback)((function(e,t){"clickaway"!==t&&h(!1)}),[]),Y={value:S,label:"".concat(null===S||void 0===S?void 0:S.charAt(0).toUpperCase()).concat(null===S||void 0===S?void 0:S.slice(1))},H=C&&Object.keys(C).map((function(e){return{label:e.toUpperCase(),value:e}})),X=C&&Object.keys(C).map((function(e){return{label:C[e],value:C[e]}})),J=_.map((function(e){return{value:null===e||void 0===e?void 0:e.name.toLowerCase(),label:"".concat(null===e||void 0===e?void 0:e.name.charAt(0).toUpperCase()).concat(e.name.slice(1))}})),K=function(e,t,a){return 0!==e.trim().length&&(a.find((function(t){return t.name===e}))||t.forEach((function(t){if(Number(t.value)===Number(e))return!0})),!0)};return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){f.replace("/admin/allproducts"),g(Gt())}}),Object(re.jsx)("div",{className:O.container,children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:c((function(e){g(function(e,t){return function(){var a=Object(d.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:yt}),a.prev=1,a.next=4,p.a.put("https://manage-commerce.herokuapp.com/api/admin/edit/".concat(e),t);case 4:r=a.sent,n({type:St,payload:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:Ct,payload:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(m,e))})),children:[Object(re.jsx)(B.a,{className:O.title,component:"h2",variant:"h5",children:"Edit Product"}),Object(re.jsx)(st.a,{error:!!i.name,label:"Name",name:"name",fullWidth:!0,className:O.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:r,defaultValue:x,helperText:null===(e=i.name)||void 0===e?void 0:e.message}),Object(re.jsx)(st.a,{error:!!i.price,className:O.input,label:"Price",name:"price",margin:"dense",fullWidth:!0,inputRef:r,helperText:null===(t=i.price)||void 0===t?void 0:t.message.slice(0,29),defaultValue:y}),Object(re.jsx)(et.a,{name:"category",defaultValue:Y,control:l,className:O.input,options:J,styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},as:ua.a}),i.category&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Category is required"}),Object(re.jsx)(et.a,{name:"availableSize",defaultValue:H,control:l,className:O.input,options:[{value:"sm",label:"SM"},{value:"m",label:"M"},{value:"l",label:"L"},{value:"xl",label:"XL"},{value:"xxl",label:"XXL"},{value:"xxxl",label:"XXXL"},{value:"38",label:"38"},{value:"39",label:"39"},{value:"40",label:"40"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"44",label:"44"},{value:"45",label:"45"}],styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},isMulti:!0,closeMenuOnSelect:!0,placeholder:"Availabe Sizes",as:ua.a}),i.availableSize&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Size is required"}),Object(re.jsx)(et.a,{name:"availableSizeValue",control:l,className:O.input,styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},rules:{required:!0},defaultValue:X,placeholder:"Quantity",render:function(e){return Object(re.jsx)(da.a,{isValidNewOption:K,isOptionSelected:function(){return!1},inputRef:e.ref,value:e.value,onChange:function(t){return e.onChange(t)},closeMenuOnSelect:!1,isMulti:!0,placeholder:"Quantity"})}}),i.availableSizeValue&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Size value is required"}),!A&&!k&&!N&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{style:{margin:"16px 0"},children:[Object(re.jsx)("input",{name:"image",accept:"image/*",className:O.input,id:"icon-button-file",type:"file",style:{display:"none"},ref:r,onChange:Q}),Object(re.jsxs)("label",{htmlFor:"icon-button-file",children:["Product Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]})]}),F.originalname&&Object(re.jsx)("p",{style:{marginTop:0},children:F.originalname}),Object(re.jsx)("br",{}),W&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"Something went wrong!"}),Object(re.jsx)("br",{})]}),!k&&!A&&!N&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:O.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",children:"Save"}),Object(re.jsx)("br",{}),(A||k)&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:b,onClose:q,children:Object(re.jsx)(Zt.a,{onClose:q,severity:"success",children:"Saved successfully!"})}),R&&!N&&Object(re.jsx)(B.a,{className:O.failed,children:"Error has occured"})]})})]})}var ha=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),Oa=["image/jpg","image/jpeg"],fa=at.d().shape({name:at.e().required(),price:at.c().positive("*Price must be a positive number").required("*Price is Required"),category:at.d().required("*Category is Required"),availableSize:at.a().min(1),availableSizeValue:at.a().min(1),image:at.b().test("fileFormat","Unsupported Format",(function(e){return null===e||e[0]&&Oa.includes(e[0].type)}))});function ma(){var e,t,a=ha(),r=Object(o.b)(),c=Object(de.g)(),i=Object(et.c)({resolver:Object(tt.yupResolver)(fa)}),l=i.control,u=i.handleSubmit,j=i.register,b=i.formState.errors,h=Object(o.c)((function(e){return e.addReducer})),O=h.loading,f=h.result,m=h.error,g=Object(o.c)((function(e){return e.categoriesReducer})).categories,v=Object(n.useState)(!1),x=Object($.a)(v,2),y=x[0],S=x[1],C=Object(n.useState)(""),w=Object($.a)(C,2),E=w[0],k=w[1],N=Object(n.useState)(""),R=Object($.a)(N,2),_=R[0],T=R[1],I=Object(n.useState)(!1),A=Object($.a)(I,2),D=A[0],L=A[1];Object(n.useEffect)((function(){r(P())}),[r]),Object(n.useEffect)((function(){f&&S(!0)}),[S,f]);var F=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:a=E.imageUrl,n=E.public_id,r(Mt(Object(te.a)(Object(te.a)({},t),{},{img:{url:a,public_id:n}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),a=t.target.files[0],(n=new FormData).append("image",a),E&&n.append("public_id",E.public_id),e.prev=5,e.next=8,p.a.post("/api/admin/upload/addimg",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,k(c),L(!1),T(""),n.delete("image"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),T(e.t0.message),L(!1),n.delete("image");case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t){"clickaway"!==t&&S(!1)},V=function(e,t,a){return 0!==e.trim().length&&(a.find((function(t){return t.name===e}))||t.forEach((function(t){if(Number(t.value)===Number(e))return!0})),!0)},W=g.map((function(e){return{value:e.name.toLowerCase(),label:"".concat(e.name.charAt(0).toUpperCase()).concat(e.name.slice(1))}}));return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){c.replace("/admin/allproducts"),r(Gt())}}),Object(re.jsx)("div",{className:a.container,children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:u(F),children:[Object(re.jsx)(B.a,{className:a.title,component:"h2",variant:"h5",children:"Add Product"}),Object(re.jsx)(st.a,{error:!!b.name,label:"Name",name:"name",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:j,helperText:null===(e=b.name)||void 0===e?void 0:e.message}),Object(re.jsx)(st.a,{error:!!b.price,className:a.input,fullWidth:!0,label:"Price",name:"price",margin:"dense",inputRef:j,helperText:null===(t=b.price)||void 0===t?void 0:t.message.slice(0,29)}),Object(re.jsx)(et.a,{name:"category",defaultValue:"",control:l,className:a.input,options:W,styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},as:ua.a}),b.category&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Category is required"}),Object(re.jsx)(et.a,{name:"availableSize",defaultValue:"",control:l,className:a.input,options:[{value:"sm",label:"SM"},{value:"m",label:"M"},{value:"l",label:"L"},{value:"xl",label:"XL"},{value:"xxl",label:"XXL"},{value:"xxxl",label:"XXXL"},{value:"38",label:"38"},{value:"39",label:"39"},{value:"40",label:"40"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"44",label:"44"},{value:"45",label:"45"}],styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},isMulti:!0,closeMenuOnSelect:!0,placeholder:"Availabe Sizes",as:ua.a}),b.availableSize&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Size is required"}),Object(re.jsx)(et.a,{name:"availableSizeValue",control:l,className:a.input,styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},rules:{required:!0},defaultValue:"",placeholder:"Quantity",render:function(e){return Object(re.jsx)(da.a,{isValidNewOption:V,isOptionSelected:function(){return!1},inputRef:e.ref,value:e.value,onChange:function(t){return e.onChange(t)},closeMenuOnSelect:!1,isMulti:!0,placeholder:"Quantity"})}}),b.availableSizeValue&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"*Size value is required"}),!f&&Object(re.jsxs)("div",{style:{margin:"16px 0"},children:[Object(re.jsx)("input",{name:"image",accept:"image/*",className:a.input,id:"icon-button-file",type:"file",style:{display:"none"},ref:j,onChange:z}),!D&&Object(re.jsxs)("label",{htmlFor:"icon-button-file",children:["Product Image",Object(re.jsx)(G.a,{"aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),Object(re.jsx)("br",{}),E&&Object(re.jsx)("p",{style:{marginTop:0},children:E.originalname}),Object(re.jsx)("br",{}),_&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:"Something went wrong!"})]}),!f&&!O&&!D&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:a.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",children:"Save"}),(O||D)&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:y,onClose:U,children:Object(re.jsx)(Zt.a,{onClose:U,severity:"success",children:"Saved successfully!"})}),m&&!f&&Object(re.jsx)(B.a,{className:a.failed,children:"Error has occured"})]})})]})}var ga=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function va(){var e,t=ga(),a=Object(de.i)().id,r=Object(de.g)(),c=Object(o.b)(),i=Object(o.c)((function(e){return e.currSelProdReducer})),l=Object(o.c)((function(e){return e.deleteReducer})),u=Object(n.useState)(!1),j=Object($.a)(u,2),b=j[0],h=j[1];Object(n.useEffect)((function(){(null===l||void 0===l?void 0:l.result)&&h(!0)}),[h,l]);var O=function(e,t){"clickaway"!==t&&h(!1)};return Object(re.jsxs)("div",{className:t.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){r.replace("/admin/allproducts")}}),Object(re.jsxs)("div",{className:t.container,children:[Object(re.jsx)(B.a,{className:t.title,variant:"h3",component:"h3",children:"Remove Product"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete ",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:null===i||void 0===i||null===(e=i.name)||void 0===e?void 0:e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})," ?"]}),!(null===l||void 0===l?void 0:l.loading)&&!(null===l||void 0===l?void 0:l.result)&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){c(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Nt}),t.prev=1,t.next=4,p.a.delete("https://manage-commerce.herokuapp.com/api/admin/delete/".concat(e));case 4:n=t.sent,a({type:Rt,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:_t,payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(a))},className:t.btn,children:"Delete"}),l.loading&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:b,onClose:O,children:Object(re.jsx)(Zt.a,{onClose:O,severity:"success",children:"Saved successfully!"})}),l.error&&!i&&Object(re.jsx)(B.a,{className:t.failed,children:"Error has occured"})]})]})}var xa=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),ya=at.d().shape({name:at.e().required()});function Sa(){var e,t=xa(),a=Object(o.b)(),r=Object(de.g)(),c=Object(n.useState)(!1),i=Object($.a)(c,2),l=i[0],u=i[1],j=Object(et.c)({resolver:Object(tt.yupResolver)(ya)}),b=j.handleSubmit,h=j.register,O=j.formState.errors,f=Object(o.c)((function(e){return e.addCategoryReducer})),m=f.loading,g=f.payload,v=f.error;Object(n.useEffect)((function(){g&&u(!0)}),[u,g]);var x=function(e,t){"clickaway"!==t&&u(!1)};return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){r.replace("/admin/categories"),a(D())}}),Object(re.jsxs)("div",{className:t.container,children:[Object(re.jsx)(B.a,{className:t.title,component:"h2",variant:"h5",children:"Add Category"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:b((function(e){var t;a((t=e,function(){var e=Object(d.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:k}),e.prev=1,e.next=4,p.a.post("https://manage-commerce.herokuapp.com/api/category/add",t);case 4:n=e.sent,r=n.data,a({type:N,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:R,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))})),children:[Object(re.jsx)(st.a,{error:!!O.name,label:"Name",name:"name",fullWidth:!0,className:t.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:h,helperText:null===(e=O.name)||void 0===e?void 0:e.message}),!g&&!m&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:t.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",children:"Save"}),m&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:l,onClose:x,children:Object(re.jsx)(Zt.a,{onClose:x,severity:"success",children:"Saved successfully!"})}),v&&Object(re.jsx)(B.a,{className:t.failed,children:"Error has occured"})]})]})]})}var Ca=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function wa(){var e=Ca(),t=Object(de.i)().categoryId,a=Object(de.g)(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.currSelCategoryReducer})),i=Object(o.c)((function(e){return e.deleteCategoryReducer})),l=Object(n.useState)(!1),u=Object($.a)(l,2),j=u[0],b=u[1];Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.payload)&&b(!0)}),[b,i]);var h=function(e,t){"clickaway"!==t&&b(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){r(D()),a.replace("/admin/categories")}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Remove Category"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete ",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:c.name.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})," ?"]}),!(null===i||void 0===i?void 0:i.loading)&&!(null===i||void 0===i?void 0:i.payload)&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){var e;r((e=t,function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:_}),t.prev=1,t.next=4,p.a.delete("https://manage-commerce.herokuapp.com/api/category/delete/".concat(e));case 4:n=t.sent,a({type:T,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:I,payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))},className:e.btn,children:"Delete"}),i.loading&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:j,onClose:h,children:Object(re.jsx)(Zt.a,{onClose:h,severity:"success",children:"Saved successfully!"})}),i.error&&!c&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var Ea=a(23),ka=a(166),Na="SALES_REQUEST",Ra="SALES_SUCCESS",_a="SALES_FAIL",Ta="ADD_SALES_REQUEST",Ia="ADD_SALES_SUCCESS",Aa="ADD_SALES_FAIL",Pa="REMOVE_SALE_REQUEST",Da="REMOVE_SALE_SUCCESS",La="REMOVE_SALE_FAIL",Fa="CONFIRM_SALES_REQUEST",Ba="CONFIRM_SALES_SUCCESS",za="CONFIRM_SALES_FAIL",Ua="RESET_SALES",Va=function(){return function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Na}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/sales/all");case 4:a=e.sent,n=a.data,t({type:Ra,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:_a,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Wa=function(){return function(e){e({type:Ua})}},Ma="SPENDINGS_REQUEST",Ga="SPENDINGS_SUCCESS",Qa="SPENDINGS_FAIL",qa="ADD_SPENDING_REQUEST",Ya="ADD_SPENDING_SUCCESS",Ha="ADD_SPENDING_FAIL",Xa="REMOVE_SPENDING_REQUEST",Ja="REMOVE_SPENDING_SUCCESS",$a="REMOVE_SPENDING_FAIL",Ka="RESET_SPENDING",Za="SEL_SPEND",en=function(){return function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ma}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/spending/all");case 4:a=e.sent,n=a.data,t({type:Ga,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:Qa,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},tn=function(){return function(e){e({type:Ka})}},an=a(265),nn=Object(L.a)((function(e){return{container:{width:"95%",margin:e.spacing(0,"auto")},paper:{padding:e.spacing(2),marginBottom:e.spacing(1)},title:{fontWeight:700},subtitle:{color:e.palette.primary.light},details:{padding:e.spacing(2),marginBottom:e.spacing(1)},progress:{padding:e.spacing(2)},flex:{display:"flex",justifyContent:"space-between",alignItems:"center"},salesSubtitle:{color:e.palette.success.light,margin:0},salesTitle:{fontWeight:700,fontSize:22},earningTitle:{color:e.palette.success.dark,fontWeight:700,fontSize:22},spendingsSubtitle:{color:e.palette.error.light,margin:0},spendingsTitle:{color:e.palette.error.dark,fontWeight:700,fontSize:22}}}));function rn(){var e=Object(de.g)(),t=nn(),a=Object(o.b)(),r=Object(o.c)((function(e){return e.salesReducer})),c=r.sales,i=r.error,l=Object(o.c)((function(e){return e.spendingsReducer})).spendings,s=Object(an.a)();Object(n.useEffect)((function(){a(Va()),a(en())}),[a]);var d={credits:{enabled:!1},rangeSelector:{selected:1},title:{text:"Earnings",align:"left",style:{fontSize:"20px",color:"#5c5c5c"}},series:[{name:"Earning",data:Object(Ea.a)(c.map((function(e){return[new Date(e.createdAt).getTime(),e.soldPrice-e.price]}))),dataGrouping:{approximation:"sum",forced:!0,groupAll:!0,units:[["day",[1]]]},color:"green",type:"areaspline",threshold:null,tooltip:{valueDecimals:2},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[1,Qe.a.getOptions().colors[1]],[1,Qe.a.color(Qe.a.getOptions().colors[1]).setOpacity(0).get("rgba")]]}}]},u=Object(te.a)(Object(te.a)({},d),{},{colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:Object(te.a)(Object(te.a)({},d.title),{},{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}}),subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:Object(te.a)(Object(te.a)({},d.rangeSelector),{},{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}}),navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}});if(i)return Object(re.jsx)("div",{children:i});var p=null===c||void 0===c?void 0:c.reduce((function(e,t){return e+t.soldPrice}),0),j=null===l||void 0===l?void 0:l.reduce((function(e,t){return e+t}),0),b=null===c||void 0===c?void 0:c.reduce((function(e,t){return e+(t.soldPrice-t.price)}),0),h=p-j;return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){e.push("/admin")}}),Object(re.jsxs)("div",{className:t.container,children:[Object(re.jsxs)(F.a,{className:t.paper,children:[Object(re.jsx)(B.a,{variant:"h6",component:"h2",className:t.subtitle,align:"center",children:"Total Balance"}),Object(re.jsx)(B.a,{variant:"h5",component:"h3",align:"center",children:Object(re.jsx)(ka.a,{value:h,displayType:"text",thousandSeparator:!0,suffix:"DH",className:t.title})})]}),Object(re.jsx)(F.a,{className:t.paper,children:Object(re.jsxs)("div",{className:t.flex,children:[Object(re.jsx)(B.a,{variant:"h6",className:t.title,children:"Sales"}),Object(re.jsx)(B.a,{className:t.salesTitle,variant:"subtitle2",children:Object(re.jsx)(ka.a,{value:p,displayType:"text",thousandSeparator:!0,suffix:"DH"})})]})}),Object(re.jsx)(F.a,{className:t.paper,children:Object(re.jsxs)("div",{className:t.flex,children:[Object(re.jsx)(B.a,{className:t.title,variant:"h6",children:"Spendings"}),l&&Object(re.jsx)(B.a,{className:t.spendingsTitle,variant:"subtitle2",children:Object(re.jsx)(ka.a,{value:j,displayType:"text",thousandSeparator:!0,suffix:"DH"})})]})}),Object(re.jsx)(F.a,{className:t.paper,children:Object(re.jsxs)("div",{className:t.flex,children:[Object(re.jsx)(B.a,{className:t.title,variant:"h6",children:"Earnings"}),Object(re.jsx)(B.a,{className:t.earningTitle,variant:"subtitle2",children:Object(re.jsx)(ka.a,{value:b,displayType:"text",thousandSeparator:!0,suffix:"DH"})})]})}),Object(re.jsx)(qe,{options:"light"===s.palette.type?d:u})]})]})}var cn=a(63),on=Object(L.a)((function(e){return{container:{padding:e.spacing(0,1)},paper:{margin:e.spacing(0,0,2)}}}));function ln(){var e=on(),t=Object(de.g)(),a=Object(o.b)(),r=Object(o.c)((function(e){return e.salesReducer})).sales,c=Object(o.c)((function(e){return e.categoriesReducer})).categories;Object(n.useEffect)((function(){a(Va())}),[a]);var i=Object(cn.a)(),l={credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:250},title:{text:"Sales Analytic",align:"left",style:{fontSize:"20px",color:"#5c5c5c"}},tooltip:{pointFormat:"{series.name}: <b>{point.y}</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",size:125,dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{minPointSize:50,name:"Products",colorByPoint:!0,data:Object(Ea.a)(c.map((function(e){return r.filter((function(t){return t.category.toLowerCase()===e.name.toLowerCase()}))})).sort((function(e,t){return t.length-e.length})).map((function(e,t){return e.length<1||10===t?null:{name:e[0].category,y:e.length}})))}]},s={credits:{enabled:!1},rangeSelector:{selected:1},title:{text:"All Sales",align:"left",style:{fontSize:"20px",color:"#5c5c5c"}},series:[{name:"Sales",data:Object(Ea.a)(r.map((function(e){return[new Date(e.createdAt).getTime(),e.soldPrice]}))),color:"black",type:"areaspline",threshold:null,dataGrouping:{approximation:"sum",forced:!0,groupAll:!0,units:[["day",[1]]]},tooltip:{valueDecimals:2},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Qe.a.getOptions().colors[0]],[1,Qe.a.color(Qe.a.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]},d={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:Object(te.a)(Object(te.a)({},s.title),{},{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}}),subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:Object(te.a)(Object(te.a)({},s.rangeSelector),{},{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}}),navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},u={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:Object(te.a)(Object(te.a)({},l.chart),{},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"}),title:Object(te.a)(Object(te.a)({},l.title),{},{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}}),subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},tooltip:Object(te.a)(Object(te.a)({},l.tooltip),{},{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}}),plotOptions:Object(te.a)(Object(te.a)({},l.plotOptions),{},{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}}),legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},labels:{style:{color:"#707073"}}};return Object(re.jsxs)("div",{children:[Object(re.jsx)(fe,{handleBack:function(){t.push("/admin")}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(Ye,{options:"light"===i.palette.type?l:Object(te.a)(Object(te.a)({},l),u)}),Object(re.jsx)(qe,{options:"light"===i.palette.type?s:Object(te.a)(Object(te.a)({},s),d)})]})]})}var sn=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),dn=[{field:"id",hide:!0},{field:"name",headerName:"Sales",width:150},{field:"price",headerName:"Price",width:70},{field:"soldPrice",headerName:"Sold Price",width:70},{field:"createdAt",headerName:"Date",width:165},{field:"category",headerName:"Category",width:100},{field:"qty",headerName:"Quantity",width:100}];function un(){var e=sn(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),s=l[0],d=l[1],u=Object(de.g)(),p=Object(o.b)(),j=Object(o.c)((function(e){return e.salesReducer})),b=j.sales,h=j.fetching,O=j.error;Object(n.useEffect)((function(){p(Va())}),[p]);var f={pathname:"/admin/removesale/".concat(r)};return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){u.push("/admin")},saleId:r,to:f}),O&&O,b&&Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:s,onPageChange:function(e){d(e.page)},disableColumnMenu:!0,pageSize:10,columns:dn,onRowSelected:function(e){var t;c(e.data.id),p((t=e.data,function(e){e({type:"SELECT_PROD",payload:t})}))},rows:b,loading:h,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var pn=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function jn(){var e=pn(),t=Object(de.i)().saleId,a=Object(de.g)(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.currSelSaleReducer})),i=Object(o.c)((function(e){return e.deleteSaleReducer})),l=Object(n.useState)(!1),u=Object($.a)(l,2),j=u[0],b=u[1];Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.payload)&&b(!0)}),[b,i]);var h=function(e,t){"clickaway"!==t&&b(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){r(Wa()),a.replace("/admin/sales")}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Remove Sale"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete ",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:c.name})," ?"]}),!(null===i||void 0===i?void 0:i.loading)&&!(null===i||void 0===i?void 0:i.payload)&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){var e;r((e=t,function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Pa}),t.prev=1,t.next=4,p.a.delete("https://manage-commerce.herokuapp.com/api/sales/delete/".concat(e));case 4:n=t.sent,a({type:Da,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:La,payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))},className:e.btn,children:"Delete"}),i.loading&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:j,onClose:h,children:Object(re.jsx)(Zt.a,{onClose:h,severity:"success",children:"Saved successfully!"})}),i.error&&!c&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var bn=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),hn=[{field:"id",hide:!0},{field:"spending",headerName:"Withdraw",width:150},{field:"comment",headerName:"Comment",width:150}];function On(){var e=bn(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),s=l[0],d=l[1],u=Object(de.g)(),p=Object(o.b)(),j=Object(o.c)((function(e){return e.spendingsReducer})),b=j.spendings,h=j.fetching,O=j.error;Object(n.useEffect)((function(){p(en())}),[p]);var f={pathname:"/admin/removespending/".concat(r)};return O||Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){u.replace("/admin")},handleAdd:function(){u.push("/admin/addspending")},spendingId:r,to:f}),O&&O,b&&Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:s,onPageChange:function(e){d(e.page)},disableColumnMenu:!0,pageSize:10,columns:hn,onRowSelected:function(e){var t;c(e.data.id),p((t=e.data,function(e){e({type:Za,payload:t})}))},rows:b,loading:h,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var fn=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function mn(){var e=fn(),t=Object(de.i)().spendingId,a=Object(de.g)(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.currSelSpendingReducer})),i=Object(o.c)((function(e){return e.deleteSpendingReducer})),l=Object(n.useState)(!1),u=Object($.a)(l,2),j=u[0],b=u[1];Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.spending)&&b(!0)}),[b,i]);var h=function(e,t){"clickaway"!==t&&b(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){r(tn()),a.replace("/admin/spending")}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Remove Spending"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete ",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:c.comment})," ?"]}),!(null===i||void 0===i?void 0:i.fetching)&&!(null===i||void 0===i?void 0:i.spending)&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){var e;r((e=t,function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Xa}),t.prev=1,t.next=4,p.a.delete("https://manage-commerce.herokuapp.com/api/spending/delete/".concat(e));case 4:n=t.sent,a({type:Ja,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:$a,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))},className:e.btn,children:"Delete"}),i.fetching&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:j,onClose:h,children:Object(re.jsx)(Zt.a,{onClose:h,severity:"success",children:"Saved successfully!"})}),i.error&&!c&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var gn=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),vn=at.d().shape({withdraw:at.c().required(),comment:at.e()});function xn(){var e,t,a=gn(),r=Object(o.b)(),c=Object(de.g)(),i=Object(n.useState)(!1),l=Object($.a)(i,2),u=l[0],j=l[1],b=Object(et.c)({resolver:Object(tt.yupResolver)(vn)}),h=b.handleSubmit,O=b.register,f=b.formState.errors,m=Object(o.c)((function(e){return e.addSpendingReducer})),g=m.fetching,v=m.spending,x=m.error;Object(n.useEffect)((function(){v&&j(!0)}),[j,v]);var y=function(e,t){"clickaway"!==t&&j(!1)};return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){r(tn()),c.replace("/admin/spending")}}),Object(re.jsxs)("div",{className:a.container,children:[Object(re.jsx)(B.a,{className:a.title,component:"h2",variant:"h5",children:"Add Spending"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:h((function(e){var t;r((t=e,function(){var e=Object(d.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:qa}),e.prev=1,e.next=4,p.a.post("https://manage-commerce.herokuapp.com/api/spending/add",t);case 4:n=e.sent,r=n.data,a({type:Ya,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:Ha,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))})),children:[Object(re.jsx)(st.a,{error:!!f.withdraw,label:"Withdraw",name:"withdraw",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:O,helperText:null===(e=f.withdraw)||void 0===e?void 0:e.message})," ",Object(re.jsx)(st.a,{error:!!f.comment,label:"Comment",name:"comment",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:O,helperText:null===(t=f.comment)||void 0===t?void 0:t.message}),!v&&!g&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:a.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",children:"Save"}),g&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:u,onClose:y,children:Object(re.jsx)(Zt.a,{onClose:y,severity:"success",children:"Saved successfully!"})}),x&&Object(re.jsx)(B.a,{className:a.failed,children:"Error has occured"})]})]})]})}var yn=a(974),Sn=a(975),Cn=a(976),wn=a(977),En=a(973),kn=a(978),Nn=a(991),Rn=a(979),_n=a(980),Tn="LOAN_REQUEST",In="LOAN_SUCCESS",An="LOAN_FAIL",Pn="LOAN_PROFILE_REQUEST",Dn="LOAN_PROFILE_SUCCESS",Ln="LOAN_PROFILE_FAIL",Fn="LOAN_PRODUCTS_REQUEST",Bn="LOAN_PRODUCTS_SUCCESS",zn="LOAN_PRODUCTS_FAIL",Un="LOAN_PRODUCTS_ADD_REQUEST",Vn="LOAN_PRODUCTS_ADD_SUCCESS",Wn="LOAN_PRODUCTS_ADD_FAIL",Mn="LOAN_PRODUCTS_REMOVE_REQUEST",Gn="LOAN_PRODUCTS_REMOVE_SUCCESS",Qn="LOAN_PRODUCTS_REMOVE_FAIL",qn="LOAN_PAYMENTS_REQUEST",Yn="LOAN_PAYMENTS_SUCCESS",Hn="LOAN_PAYMENTS_FAIL",Xn="LOAN_PROFILE_EDIT_REQUEST",Jn="LOAN_EDIT_SUCCESS",$n="LOAN_PROFILE_EDIT_FAIL",Kn="LOAN_PROFILE_DELETE_REQUEST",Zn="LOAN_PROFILE_DELETE_SUCCESS",er="LOAN_PROFILE_DELETE_FAIL",tr="LOAN_PROFILE_ADD_REQUEST",ar="LOAN_PROFILE_ADD_SUCCESS",nr="LOAN_PROFILE_ADD_FAIL",rr="LOAN_PAYMENTS_ADD_REQUEST",cr="LOAN_PAYMENTS_ADD_SUCCESS",ir="LOAN_PAYMENTS_ADD_FAIL",or="LOAN_PAYMENTS_REMOVE_REQUEST",lr="LOAN_PAYMENTS_REMOVE_SUCCESS",sr="LOAN_PAYMENTS_REMOVE_FAIL",dr="LOAN_RESET",ur=function(){return function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Tn}),e.prev=1,e.next=4,p.a.get("/api/loan/all");case 4:a=e.sent,n=a.data,t({type:In,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:An,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},pr=function(e){var t=e.profileid,a=e.payment;return function(){var e=Object(d.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:rr}),e.prev=1,e.next=4,p.a.post("/api/loan/".concat(t,"/payments/add"),{payment:a});case 4:r=e.sent,n({type:cr,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:ir,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},jr=function(){return function(e){e({type:dr})}},br="INVOICE_REQUEST",hr="INVOICE_SUCCESS",Or="INVOICE_FAIL",fr="ALL_INVOICES_REQUEST",mr="ALL_INVOICES_SUCCESS",gr="ALL_INVOICES_FAIL",vr="INVOICE_DELETE_REQUEST",xr="INVOICE_DELETE_SUCCESS",yr="INVOICE_DELETE_FAIL",Sr="RESET_INVOICE",Cr=function(){return function(e){e({type:Sr})}},wr=Object(L.a)((function(e){return{container:{padding:e.spacing(2)},btn:{marginTop:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(3)},input:{marginBottom:e.spacing(2)},table:{minWidth:650}}}));function Er(){var e=wr(),t=Object(de.g)(),a=Object(o.b)(),r=Object(n.useState)(!1),c=Object($.a)(r,2),i=c[0],l=c[1],u=Object(n.useState)({value:"cash",label:"Cash"}),j=Object($.a)(u,2),b=j[0],h=j[1],O=Object(n.useState)({adress:"",name:"",id:""}),f=Object($.a)(O,2),m=f[0],g=f[1],v=Object(n.useState)(0),x=Object($.a)(v,2),y=x[0],S=x[1],C=Object(o.c)((function(e){return e.cartReducer})).products,w=Object(o.c)((function(e){return e.addSalesReducer})),E=Object(o.c)((function(e){return e.invoiceReducer})),k=Object(o.c)((function(e){return e.loanReducer})).loans,N=Object(cn.a)(),R=Object(n.useState)(0),_=Object($.a)(R,2),T=_[0],I=_[1];Object(n.useEffect)((function(){w.result&&E.invoice&&l(!0)}),[l,w.result,E.invoice]),Object(n.useEffect)((function(){1===T&&"credit"===b.value&&a(ur())}),[a,T,b.value]);var A=Object(n.useCallback)((function(e,t){"clickaway"!==t&&l(!1)}),[]),P=C.reduce((function(e,t){return e+Number(t.soldPrice)*Object.keys(t.size).reduce((function(e,a){return e+t.size[a]}),0)}),0),D=function(){var e=C.reduce((function(e,t){return e+Number(t.price)*Object.keys(t.size).reduce((function(e,a){return e+t.size[a]}),0)}),0);return P-e},L={client:m,products:C,paymentMethod:b.value,advance:y,total:P},U=function(){var e;a((e=C,function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Ta}),t.prev=1,n=e.map((function(e){return Object.keys(e).filter((function(e){return"_id"!==e&&"createdAt"!==e&&"updatedAt"!==e})).reduce((function(t,a){return t[a]=e[a],t}),{})})),t.next=5,p.a.post("https://manage-commerce.herokuapp.com/api/sales/add",n);case 5:r=t.sent,a({type:Ia,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:Aa,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())),a(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Fa}),t.prev=1,t.next=4,p.a.put("https://manage-commerce.herokuapp.com/api/sales/confirm",e);case 4:n=t.sent,a({type:Ba,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:za,payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(C)),y&&a(pr({profileid:m.id,payment:y})),y&&a(function(e){var t=e.products,a=e.profileid;return function(){var e=Object(d.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:Un}),e.prev=1,e.next=4,p.a.post("/api/loan/".concat(a,"/addproducts"),{products:t});case 4:r=e.sent,n({type:Vn,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:Wn,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}({products:C,profileid:m.id})),a(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:br}),t.prev=1,t.next=4,p.a.post("https://manage-commerce.herokuapp.com/api/invoice",e);case 4:n=t.sent,a({type:hr,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:Or,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(L)),a(_e())},V=k.map((function(e){return{value:e.name,id:e._id,label:e.name.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}}));return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){a(Wa()),a(Cr()),t.replace("/cart")}}),!E.error&&!E.invoice&&Object(re.jsx)(Nn.a,{steps:3,position:"static",variant:"text",activeStep:T,nextButton:Object(re.jsxs)(Ht.a,{size:"small",onClick:function(){I((function(e){return e+1}))},disabled:2===T,children:["Next","rtl"===N.direction?Object(re.jsx)(Rn.a,{}):Object(re.jsx)(_n.a,{})]}),backButton:Object(re.jsxs)(Ht.a,{size:"small",onClick:function(){I((function(e){return e-1}))},disabled:0===T,children:["rtl"===N.direction?Object(re.jsx)(_n.a,{}):Object(re.jsx)(Rn.a,{}),"Back"]})}),Object(re.jsx)("div",{className:e.container,children:function(t){switch(t){case 0:return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(B.a,{variant:"h5",className:e.title,children:"Payment Method"}),Object(re.jsx)(ua.a,{name:"paymentMethod",defaultValue:b,className:e.input,options:[{value:"cash",label:"Cash"},{value:"credit",label:"Credit"}],styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},closeMenuOnSelect:!0,placeholder:"Choose payment method...",onChange:function(e){return h(e)}})]});case 1:return Object(re.jsxs)("div",{children:[Object(re.jsx)(B.a,{className:e.title,variant:"h5",children:"Client's Infos"}),"cash"===b.value?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(st.a,{className:e.input,id:"client-name",label:"Client Name",name:"clientName",defaultValue:m.name,fullWidth:!0,variant:"outlined",onChange:function(e){return g(Object(te.a)(Object(te.a)({},m),{},{name:e.target.value}))}}),Object(re.jsx)(st.a,{className:e.input,id:"client-adress",label:"Client Adress",name:"clientAdress",defaultValue:m.adress,fullWidth:!0,variant:"outlined",onChange:function(e){return g(Object(te.a)(Object(te.a)({},m),{},{adress:e.target.value}))}})]}):Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(ua.a,{name:"client",defaultValue:"",className:e.input,options:V,styles:{option:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{color:t.isFocused||t.isSelected?"white":"black"})}},theme:function(e){return Object(te.a)(Object(te.a)({},e),{},{borderRadius:0,colors:Object(te.a)(Object(te.a)({},e.colors),{},{primary25:"#333333",primary:"#0c0c0c"})})},closeMenuOnSelect:!0,placeholder:"Select borrower...",onChange:function(e){return g({name:e.value,id:e.id})}}),Object(re.jsx)(st.a,{className:e.input,id:"advance",label:"Advance",name:"advance",defaultValue:y,fullWidth:!0,variant:"outlined",onChange:function(e){return S(e.target.value)}}),Object(re.jsx)(B.a,{component:z.b,to:{pathname:"/loan/add",state:{fromConfirm:!0}},children:"create a loan account ?"})]})]});case 2:return Object(re.jsxs)(re.Fragment,{children:[!E.invoice&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(B.a,{variant:"h5",gutterBottom:!0,children:"Confirm Invoice"}),Object(re.jsx)("div",{children:Object(re.jsxs)("p",{children:["Client: ",Object(re.jsx)("strong",{children:m.name}),","," ",Object(re.jsx)("strong",{children:m.adress})]})}),Object(re.jsx)(yn.a,{component:F.a,children:Object(re.jsxs)(Sn.a,{"aria-label":"simple table",children:[Object(re.jsx)(Cn.a,{children:Object(re.jsxs)(wn.a,{children:[Object(re.jsx)(En.a,{children:"Qty"}),Object(re.jsx)(En.a,{children:"Product"}),Object(re.jsx)(En.a,{align:"right",children:"Unit Price"}),Object(re.jsx)(En.a,{align:"right",children:"Amount"})]})}),Object(re.jsxs)(kn.a,{children:[C.map((function(e){return Object(re.jsxs)(wn.a,{style:{fontWeight:400},children:[Object(re.jsx)(En.a,{style:{fontWeight:400},children:Object.keys(e.size).reduce((function(t,a){return t+e.size[a]}),0)}),Object(re.jsx)(En.a,{style:{fontWeight:400},children:e.name}),Object(re.jsx)(En.a,{align:"right",style:{fontWeight:400},children:e.soldPrice}),Object(re.jsx)(En.a,{align:"right",style:{fontWeight:400},children:Object.keys(e.size).reduce((function(t,a){return t+e.size[a]}),0)*e.soldPrice})]},e._id)})),Object(re.jsxs)(wn.a,{children:[Object(re.jsx)(En.a,{align:"right"}),Object(re.jsx)(En.a,{align:"right"}),Object(re.jsx)(En.a,{align:"right",children:"Total:"}),Object(re.jsxs)(En.a,{align:"right",children:[P,"DH"]})]}),Object(re.jsxs)(wn.a,{children:[Object(re.jsx)(En.a,{align:"right"}),Object(re.jsx)(En.a,{align:"right"}),Object(re.jsx)(En.a,{align:"right",children:"Earning:"}),Object(re.jsxs)(En.a,{align:"right",children:[D(),"DH"]})]})]})]})})]}),!E.loading&&!E.invoice&&Object(re.jsx)(Ht.a,{className:e.btn,variant:"contained",onClick:U,children:"Confirm"}),E.loading&&Object(re.jsx)(Xt.a,{}),E.error&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"}),Object(re.jsx)(Jt.a,{open:i,onClose:A,children:Object(re.jsx)(Zt.a,{onClose:A,severity:"success",children:"Sales Saved successfully!"})})]})}}(T)})]})}var kr=a(39),Nr=a(25),Rr=a(269),_r=a(982),Tr=a(981),Ir=Object(L.a)((function(e){return{root:{width:"100%"},container:{width:"90%",margin:e.spacing(0,"auto")},search:Object(kr.a)({position:"relative",backgroundColor:Object(Nr.d)(e.palette.primary.light,.15),"&:hover":{backgroundColor:Object(Nr.d)(e.palette.primary.light,.25)},marginLeft:0,marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(kr.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),paper:{padding:e.spacing(1),marginBottom:e.spacing(.5)},typography:{color:e.palette.text.primary,"&:hover":{color:e.palette.warning.main}},circular:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(4)}}}));function Ar(){var e=Ir(),t=Object(n.useState)(""),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(de.g)(),l=Object(o.b)(),s=Object(o.c)((function(e){return e.loanReducer})),d=s.loans,u=s.loading,p=s.error;Object(n.useEffect)((function(){l(ur())}),[l]);return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){i.replace("/")},handleAdd:function(){i.push("/loan/add")}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsxs)("div",{className:e.search,children:[Object(re.jsx)("div",{className:e.searchIcon,children:Object(re.jsx)(Tr.a,{})}),Object(re.jsx)(Rr.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return c(e.target.value)},value:r})]}),p&&Object(re.jsx)("p",{children:p}),u&&Object(re.jsx)("div",{className:e.circular,children:Object(re.jsx)(Xt.a,{})}),!r&&d.map((function(t){return Object(re.jsx)(F.a,{className:e.paper,variant:"outlined",children:Object(re.jsx)(_r.a,{component:z.b,to:{pathname:"./loan/".concat(t._id),state:{name:t.name,_id:t._id}},children:Object(re.jsx)(B.a,{noWrap:!0,className:e.typography,children:t.name})})},t._id)})),r&&d.filter((function(e){return e.name.includes(r)})).map((function(t){return Object(re.jsx)(F.a,{className:e.paper,variant:"outlined",children:Object(re.jsx)(_r.a,{component:z.b,to:{pathname:"./loan/".concat(t._id),state:{name:t.name,_id:t._id}},children:Object(re.jsx)(B.a,{noWrap:!0,className:e.typography,children:t.name})})},t._id)}))]})]})}var Pr=a(983),Dr=Object(L.a)((function(e){return{root:{width:"100%"},container:{width:"90%",margin:e.spacing(0,"auto")},paper:{width:"95%",height:e.spacing(6),margin:e.spacing(0,"auto",.5),padding:e.spacing(1),display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",background:e.palette.error.light,color:e.palette.error.contrastText}}}));function Lr(){var e,t,a,r,c,i=Dr(),l=Object(de.g)(),u=Object(de.h)(),j=Object(o.c)((function(e){return e.loanProfileReducer})),b=Object(de.i)().profileid,h=u.pathname,O=Object(o.b)();Object(n.useEffect)((function(){O(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Pn}),t.prev=1,t.next=4,p.a.get("/api/loan/".concat(e));case 4:n=t.sent,r=n.data,a({type:Dn,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:Ln,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(b))}),[O,b]);var f=[{name:"Products",path:"/products",icon:Object(re.jsx)(mt.a,{})},{name:"Payments",path:"/payments",icon:Object(re.jsx)(Pr.a,{})}],m=null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.products.map((function(e){var t=Object.keys(e.sizes).reduce((function(t,a){return t+e.sizes[a]}),0);return Number(t*e.unitPrice)})).reduce((function(e,t){return e+t}),0),g=null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.payments.reduce((function(e,t){return e+t.payment}),0);return Object(re.jsxs)("div",{className:i.root,children:[Object(re.jsx)(fe,{handleBack:function(){l.replace("/loan")}}),Object(re.jsx)(Fe,{name:null===j||void 0===j||null===(a=j.data)||void 0===a?void 0:a.name,phone:null===j||void 0===j||null===(r=j.data)||void 0===r?void 0:r.phone,img:null===j||void 0===j||null===(c=j.data)||void 0===c?void 0:c.img,productsSum:m,paymentsSum:g}),f.map((function(e,t){return Object(re.jsx)(Ve,{name:e.name,path:"".concat(h).concat(e.path),children:e.icon},t)})),Object(re.jsx)(F.a,{variant:"outlined",className:i.paper,elevation:0,onClick:function(){l.push("/loan/".concat(b,"/delete"))},children:"Delete"})]})}var Fr=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),Br=[{field:"id",hide:!0},{field:"product",headerName:"Products",width:150},{field:"unitPrice",headerName:"Unit Price",width:100},{field:"size",headerName:"Qty",width:80},{field:"time",headerName:"Date",width:170}];function zr(){var e=Fr(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),u=l[0],j=l[1],b=Object(de.g)(),h=Object(o.b)(),O=Object(de.h)().pathname,f=Object(de.i)().profileid,m=Object(o.c)((function(e){return e.loanProductsReducer})),g=m.data,v=m.loading,x=m.error;Object(n.useEffect)((function(){h(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Fn}),t.prev=1,t.next=4,p.a.get("/api/loan/".concat(e,"/products"));case 4:n=t.sent,r=n.data,c=r.products,a({type:Bn,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:zn,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(f))}),[h,f]);var y={pathname:"".concat(O,"/remove/").concat(r)};return x||Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){b.goBack()},productsId:r,to:y}),Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:u,onPageChange:function(e){j(e.page)},disableColumnMenu:!0,pageSize:10,columns:Br,onRowSelected:function(e){var t;c(e.data.id),h((t=e.data,function(){var e=Object(d.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SEL_PROD",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},rows:g.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{size:Object.keys(e.sizes).reduce((function(t,a){return t+e.sizes[a]}),0)})})),loading:v,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var Ur=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function Vr(){var e=Ur(),t=Object(de.i)().profileid,a=Object(de.g)(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.currSelProductsReducer})),i=Object(o.c)((function(e){return e.loanProductsRemoveReducer})),l=i.payload,u=i.loading,j=i.error,b=Object(n.useState)(!1),h=Object($.a)(b,2),O=h[0],f=h[1];Object(n.useEffect)((function(){l&&f(!0)}),[f,l]);var m=function(e,t){"clickaway"!==t&&f(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){a.goBack(),r(jr())}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Restore Products to Stock"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Restore This products package",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:c.payment})," ?"]}),!u&&!l&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){r(function(e){var t=e.products,a=e.profileId;return function(){var e=Object(d.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:Mn}),e.prev=1,e.next=4,p.a.delete("/api/loan/".concat(a,"/removeProducts"),{data:{products:t}});case 4:r=e.sent,n({type:Gn,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:Qn,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}({products:c,profileId:t}))},className:e.btn,children:"Delete"}),u&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:O,onClose:m,children:Object(re.jsx)(Zt.a,{onClose:m,severity:"success",children:"Saved successfully!"})}),j&&!c&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var Wr=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),Mr=[{field:"id",hide:!0},{field:"payment",headerName:"Price",width:150},{field:"time",headerName:"Date",width:200}];function Gr(){var e=Wr(),t=Object(n.useState)(null),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object($.a)(i,2),u=l[0],j=l[1],b=Object(de.g)(),h=Object(o.b)(),O=Object(de.h)().pathname,f=Object(de.i)().profileid;Object(n.useEffect)((function(){h(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:qn}),t.prev=1,t.next=4,p.a.get("/api/loan/".concat(e,"/payments"));case 4:n=t.sent,r=n.data,c=r.payments,a({type:Yn,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:Hn,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(f))}),[h,f]);var m=Object(o.c)((function(e){return e.loanPaymentsReducer})),g=m.data,v=m.loading,x=m.error,y={pathname:"".concat(O,"/remove/").concat(r)};return Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){b.goBack()},handleAdd:function(){b.push("".concat(O,"/add"))},paymentId:r,to:y}),x&&x,g&&Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{page:u,onPageChange:function(e){j(e.page)},disableColumnMenu:!0,pageSize:10,columns:Mr,onRowSelected:function(e){var t;c(e.data._id),h((t=e.data,function(){var e=Object(d.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SEL_PAY",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},rows:g,loading:v,getRowId:function(e){return e._id},disableColumnSelector:!0})})]})}var Qr=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),qr=at.d().shape({payment:at.c("payment should be a positive number").required("payment is required")});function Yr(){var e,t=Qr(),a=Object(o.b)(),r=Object(de.g)(),c=Object(de.i)().profileid,i=Object(n.useState)(!1),l=Object($.a)(i,2),s=l[0],d=l[1],u=Object(et.c)({resolver:Object(tt.yupResolver)(qr)}),p=u.handleSubmit,j=u.register,b=u.formState.errors,h=Object(o.c)((function(e){return e.loanPaymentsAddReducer})),O=h.loading,f=h.payload,m=h.error;Object(n.useEffect)((function(){f&&d(!0)}),[d,f]);var g=function(e,t){"clickaway"!==t&&d(!1)};return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){a(jr()),r.goBack()}}),Object(re.jsxs)("div",{className:t.container,children:[Object(re.jsx)(B.a,{className:t.title,component:"h2",variant:"h5",children:"Add Payment"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:p((function(e){a(pr(Object(te.a)(Object(te.a)({},e),{},{profileid:c})))})),children:[Object(re.jsx)(st.a,{error:!!b.payment,label:"Payment",name:"payment",fullWidth:!0,className:t.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:j,helperText:null===(e=b.payment)||void 0===e?void 0:e.message}),!f&&!O&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:t.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",children:"Save"}),O&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:s,onClose:g,children:Object(re.jsx)(Zt.a,{onClose:g,severity:"success",children:"Saved successfully!"})}),m&&Object(re.jsx)(B.a,{className:t.failed,children:"Error has occured"})]})]})]})}var Hr=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function Xr(){var e=Hr(),t=Object(de.i)().profileid,a=Object(de.g)(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.currSelPaymentReducer})),i=Object(o.c)((function(e){return e.loanPaymentsRemoveReducer})),l=i.payload,u=i.loading,j=i.error,b=Object(n.useState)(!1),h=Object($.a)(b,2),O=h[0],f=h[1];Object(n.useEffect)((function(){l&&f(!0)}),[f,l]);var m=function(e,t){"clickaway"!==t&&f(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){a.goBack(),r(jr())}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Remove Payments"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete This Payment",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:c.payment})," ?"]}),!u&&!l&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){r(function(e){var t=e.profileId,a=e.paymentId;return function(){var e=Object(d.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:or}),e.prev=1,e.next=4,p.a.delete("/api/loan/".concat(t,"/payments/remove"),{data:{paymentId:a}});case 4:r=e.sent,n({type:lr,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:sr,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}({paymentId:c._id,profileId:t}))},className:e.btn,children:"Delete"}),u&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:O,onClose:m,children:Object(re.jsx)(Zt.a,{onClose:m,severity:"success",children:"Saved successfully!"})}),j&&!c&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var Jr=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},root:{width:"100%"},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),$r=at.d().shape({name:at.e().required()});function Kr(){var e,t=Jr(),a=Object(de.g)(),r=Object(o.b)(),c=Object(de.i)().profileid,i=Object(et.c)({resolver:Object(tt.yupResolver)($r)}),l=i.register,u=i.handleSubmit,j=i.formState.errors,b=Object(o.c)((function(e){return e.loanProfileReducer})).data.name,h=Object(o.c)((function(e){return e.loanProfileEditReducer})),O=h.loading,f=h.result,m=h.error,g=Object(n.useState)(""),v=Object($.a)(g,2),x=v[0],y=v[1],S=Object(n.useState)(""),C=Object($.a)(S,2),w=C[0],E=C[1],k=Object(n.useState)(!1),N=Object($.a)(k,2),R=N[0],_=N[1],T=Object(n.useState)(""),I=Object($.a)(T,2),A=I[0],P=I[1],D=Object(n.useState)(""),L=Object($.a)(D,2),F=L[0],z=L[1],U=Object(n.useState)(!1),V=Object($.a)(U,2),W=V[0],M=V[1];Object(n.useEffect)((function(){f&&M(!0)}),[M,f]);var Q=Object(n.useCallback)((function(e,t){"clickaway"!==t&&M(!1)}),[]),q=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),a=t.target.files[0],(n=new FormData).append("profile",a),x&&n.append("public_id",x.public_id),e.prev=5,e.next=8,p.a.post("/api/loan/upload/addprofile",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,y(c),_(!1),z(""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),z(e.t0.message),_(!1);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),a=t.target.files[0],(n=new FormData).append("cover",a),e.prev=4,e.next=7,p.a.post("/api/loan/upload/addcover",n,{headers:{"Content-Type":"multipart/form-data"}});case 7:r=e.sent,c=r.data,E(c),_(!1),P(""),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),P(e.t0.message),_(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)("div",{className:t.root,children:[Object(re.jsx)(fe,{handleBack:function(){r(jr()),a.goBack()}}),Object(re.jsxs)("div",{className:t.container,children:[Object(re.jsx)(B.a,{className:t.title,component:"h2",variant:"h5",children:"Edit Loan Profile"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:u((function(e){var t={};if(x){var a=x.imageUrl,n=x.public_id;t.profile={url:a,public_id:n}}if(w){var i=w.imageUrl,o=w.public_id;t.cover={url:i,public_id:o}}r(function(e,t){return function(){var a=Object(d.a)(s.a.mark((function a(n){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Xn}),a.prev=1,a.next=4,p.a.post("/api/loan/".concat(t,"/edit"),e);case 4:r=a.sent,c=r.data,n({type:Jn,payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:$n,payload:a.t0});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(Object(te.a)(Object(te.a)({},e),{},{img:t}),c))})),children:[Object(re.jsx)(st.a,{error:!!j.name,label:"Name",name:"name",fullWidth:!0,className:t.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:l,defaultValue:b,helperText:null===(e=j.name)||void 0===e?void 0:e.message}),!f&&!R&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"profile",accept:"image/*",className:t.input,id:"icon-button-profile",type:"file",style:{display:"none"},ref:l,onChange:q}),Object(re.jsxs)("label",{htmlFor:"icon-button-profile",children:["Profile Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),x&&Object(re.jsx)("p",{style:{marginTop:0},children:x.originalname}),F&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:F})]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"cover",accept:"image/*",className:t.input,id:"icon-button-cover",type:"file",style:{display:"none"},ref:l,onChange:Y}),Object(re.jsxs)("label",{htmlFor:"icon-button-cover",children:["Cover Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),w&&Object(re.jsx)("p",{style:{marginTop:0},children:w.originalname}),A&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:F}),Object(re.jsx)("br",{})]}),!f&&!R&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:t.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",style:{marginTop:"48px"},children:"Save"})]}),(O||R)&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:W,onClose:Q,children:Object(re.jsx)(Zt.a,{onClose:Q,severity:"success",children:"Saved successfully!"})}),m&&Object(re.jsx)(B.a,{className:t.failed,children:"Error has occured"})]})]})]})}var Zr=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function ec(){var e=Zr(),t=Object(n.useState)(!1),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object($.a)(i,2),u=l[0],j=l[1],b=Object(o.c)((function(e){return e.loanProfileReducer})).data.name,h=Object(o.c)((function(e){return e.loanProfileDeleteReducer})),O=h.result,f=h.error,m=Object(o.b)(),g=Object(de.i)().profileid,v=Object(de.g)();Object(n.useEffect)((function(){O&&c(!0)}),[c,O]),Object(n.useEffect)((function(){f&&c(!0)}),[j,f]);var x=Object(n.useCallback)((function(e,t){"clickaway"!==t&&c(!1)}),[]);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(fe,{handleBack:function(){O?(m(ur()),m(jr()),v.replace("/loan")):v.goBack()}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{variant:"h3",component:"h3",className:e.title,children:"Remove Profile"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete ",Object(re.jsx)("br",{}),Object(re.jsxs)("b",{children:[b," profile"]})," ?"]}),!O&&!f&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){m(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Kn}),t.prev=1,t.next=4,p.a.delete("/api/loan/".concat(e,"/delete"));case 4:n=t.sent,r=n.data,a({type:Zn,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:er,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(g))},className:e.btn,children:"Delete"})]}),Object(re.jsx)(Jt.a,{open:r,onClose:x,children:Object(re.jsx)(Zt.a,{severity:"success",children:"Profile has been deleted!"})}),Object(re.jsx)(Jt.a,{open:u,onClose:x,children:Object(re.jsx)(Zt.a,{severity:"success",children:"an error has occured!"})})]})}var tc=Object(L.a)((function(e){return{container:{padding:e.spacing(0,2)},input:{marginBottom:e.spacing(3)},root:{width:"100%"},failed:{color:e.palette.error.dark,fontSize:e.spacing(2.5),margin:e.spacing(4,0)},title:{marginBottom:e.spacing(1.5),fontWeight:700}}})),ac=at.d().shape({name:at.e().required(),phone:at.c().required()});function nc(){var e,t,a=tc(),r=Object(de.g)(),c=Object(de.h)(),i=Object(o.b)(),l=Object(n.useState)(""),u=Object($.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(""),O=Object($.a)(h,2),f=O[0],m=O[1],g=Object(n.useState)(!1),v=Object($.a)(g,2),x=v[0],y=v[1],S=Object(n.useState)(""),C=Object($.a)(S,2),w=C[0],E=C[1],k=Object(n.useState)(""),N=Object($.a)(k,2),R=N[0],_=N[1],T=Object(et.c)({resolver:Object(tt.yupResolver)(ac)}),I=T.register,A=T.handleSubmit,P=T.formState.errors,D=Object(o.c)((function(e){return e.loanProfileAddReducer})),L=D.loading,F=D.result,z=D.error,U=Object(n.useState)(!1),V=Object($.a)(U,2),W=V[0],M=V[1];Object(n.useEffect)((function(){F&&M(!0)}),[M,F]),console.log(c),Object(n.useEffect)((function(){var e;if(F&&(null===c||void 0===c||null===(e=c.state)||void 0===e?void 0:e.fromConfirm)){var t=setTimeout((function(){i(jr()),r.goBack()}),2e3);return function(){return clearTimeout(t)}}}),[i,c,F,r]);var Q=Object(n.useCallback)((function(e,t){"clickaway"!==t&&M(!1)}),[]),q=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),a=t.target.files[0],(n=new FormData).append("loanProfile",a),j&&n.append("public_id",j.public_id),e.prev=5,e.next=8,p.a.post("/api/loan/upload/addprofile",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,b(c),y(!1),_(""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),_(e.t0.message),y(!1);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),a=t.target.files[0],(n=new FormData).append("loanCover",a),f&&n.append("public_id",f.public_id),e.prev=5,e.next=8,p.a.post("/api/loan/upload/addcover",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,c=r.data,m(c),y(!1),E(""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),E(e.t0.message),y(!1);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)("div",{className:a.root,children:[Object(re.jsx)(fe,{handleBack:function(){i(jr()),r.goBack()}}),Object(re.jsxs)("div",{className:a.container,children:[Object(re.jsx)(B.a,{className:a.title,component:"h2",variant:"h5",children:"Add Loan Profile"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:A((function(e){var t={};if(j){var a=j.imageUrl,n=j.public_id;t.profile={url:a,public_id:n}}if(f){var r=f.imageUrl,c=f.public_id;t.cover={url:r,public_id:c}}i(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:tr}),t.prev=1,t.next=4,p.a.post("/api/loan/add",e);case 4:n=t.sent,a({type:ar,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:nr,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(Object(te.a)(Object(te.a)({},e),{},{img:t})))})),children:[Object(re.jsx)(st.a,{error:!!P.name,label:"Name",name:"name",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:I,helperText:null===(e=P.name)||void 0===e?void 0:e.message}),Object(re.jsx)(st.a,{error:!!P.phone,label:"Phone Number",name:"phone",fullWidth:!0,className:a.input,margin:"dense",InputLabelProps:{shrink:!0},inputRef:I,helperText:null===(t=P.phone)||void 0===t?void 0:t.message.slice(0,30)}),!x&&!F&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"profile",accept:"image/*",className:a.input,id:"icon-button-profile",type:"file",style:{display:"none"},ref:I,onChange:q}),Object(re.jsxs)("label",{htmlFor:"icon-button-profile",children:["Profile Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),j&&Object(re.jsx)("p",{style:{marginTop:0},children:j.originalname}),R&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:R})]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("input",{name:"cover",accept:"image/*",className:a.input,id:"icon-button-cover",type:"file",style:{display:"none"},ref:I,onChange:Y}),Object(re.jsxs)("label",{htmlFor:"icon-button-cover",children:["Cover Image",Object(re.jsx)(G.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(re.jsx)($t.a,{})})]}),f&&Object(re.jsx)("p",{style:{marginTop:0},children:f.originalname}),w&&Object(re.jsx)("p",{style:{color:"red",marginTop:0},children:R}),Object(re.jsx)("br",{})]}),!F&&!x&&Object(re.jsx)(Ht.a,{variant:"contained",color:"primary",size:"medium",className:a.button,startIcon:Object(re.jsx)(Kt.a,{}),type:"submit",style:{marginTop:"48px"},children:"Save"})]}),(L||x)&&Object(re.jsx)(Xt.a,{color:"primary"}),Object(re.jsx)(Jt.a,{open:W,onClose:Q,children:Object(re.jsx)(Zt.a,{onClose:Q,severity:"success",children:"Saved successfully!"})}),z&&Object(re.jsx)(B.a,{className:a.failed,children:"Error has occured"})]})]})]})}var rc=Object(L.a)((function(e){return{container:{padding:e.spacing(4)},title:{fontWeight:700,fontSize:e.spacing(3),margin:e.spacing(4,0,6)},input:{marginBottom:e.spacing(3)},btn:{marginTop:e.spacing(4)}}})),cc=at.d().shape({email:at.e().email().required("Enter email"),password:at.e().required("Enter password")});function ic(){var e,t,a=rc(),r=Object(et.c)({resolver:Object(tt.yupResolver)(cc)}),c=r.handleSubmit,i=r.register,l=r.formState.errors,u=Object(de.g)(),j=Object(o.b)(),b=Object(o.c)((function(e){return e.logInReducer})).result;Object(n.useEffect)((function(){(null===b||void 0===b?void 0:b.token)&&localStorage.getItem("admin")&&u.push("/")}),[b,u]);return Object(re.jsxs)("div",{className:a.container,children:[Object(re.jsx)(B.a,{variant:"h2",component:"h2",className:a.title,children:"Welcome Back!"}),Object(re.jsxs)("form",{autoComplete:"off",onSubmit:c((function(e){var t;j((t=e,function(){var e=Object(d.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Ft}),e.prev=1,e.next=4,p.a.post("https://manage-commerce.herokuapp.com/api/auth/login",t);case 4:n=e.sent,r=n.data,localStorage.setItem("admin",JSON.stringify(r)),a({type:Bt,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({type:zt,payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))})),children:[Object(re.jsx)(st.a,{error:!!l.email,label:"E-mail",name:"email",fullWidth:!0,className:a.input,margin:"dense",inputRef:i,helperText:null===(e=l.email)||void 0===e?void 0:e.message}),Object(re.jsx)(st.a,{error:!!l.password,type:"password",className:a.input,label:"Password",name:"password",margin:"dense",fullWidth:!0,inputRef:i,helperText:null===(t=l.password)||void 0===t?void 0:t.message}),Object(re.jsx)(Ht.a,{className:a.btn,variant:"contained",color:"primary",size:"large",type:"submit",children:"Log In"})]})]})}var oc=a(984),lc=a(985),sc=Object(L.a)((function(e){return{root:{height:"100vh"},container:{height:580,width:"90%",margin:e.spacing(0,"auto")}}})),dc=[{field:"invoiceId",headerName:"ID",width:100},{field:"date",headerName:"Date",width:165},{field:"client",headerName:"Client",width:120},{field:"download",headerName:"Download",width:100,renderCell:function(e){return Object(re.jsx)("div",{style:{width:"100%",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",color:"black"},children:Object(re.jsx)(He.PDFDownloadLink,{document:Object(re.jsx)($e,{data:e.row}),fileName:"".concat(e.row.invoiceId,".pdf"),style:{color:"black"},children:Object(re.jsx)(oc.a,{})})})}},{field:"delete",headerName:"Delete",width:100,renderCell:function(e){return Object(re.jsx)("div",{style:{width:"100%",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",color:"black"},children:Object(re.jsx)(B.a,{component:z.b,to:{pathname:"/admin/invoices/".concat(e.row.id,"/delete"),state:{data:e.row}},style:{color:"black"},children:Object(re.jsx)(lc.a,{})})})}}];function uc(){var e=sc(),t=Object(de.g)(),a=Object(n.useState)(0),r=Object($.a)(a,2),c=r[0],i=r[1],l=Object(o.b)(),u=Object(o.c)((function(e){return e.allInvoicesReducer})),j=u.loading,b=u.invoices,h=u.error;Object(n.useEffect)((function(){l(function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:fr}),e.prev=1,e.next=4,p.a.get("https://manage-commerce.herokuapp.com/api/invoice/allInvoices");case 4:a=e.sent,n=a.data,t({type:mr,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:gr,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[l]);return h||Object(re.jsxs)("div",{className:e.root,children:[Object(re.jsx)(fe,{handleBack:function(){t.push("/admin")}}),Object(re.jsx)("div",{className:e.container,children:Object(re.jsx)(na.a,{components:{Toolbar:na.b},disableSelectionOnClick:!0,page:c,onPageChange:function(e){i(e.page)},disableColumnMenu:!0,pageSize:10,columns:dc,getRowId:function(e){return e._id},rows:b.map((function(e){var t;return Object(te.a)(Object(te.a)({},e),{},{client:null===(t=e.client)||void 0===t?void 0:t.name})})),loading:j,disableColumnSelector:!0})})]})}var pc=Object(L.a)((function(e){return{container:{margin:e.spacing(2),padding:e.spacing(2)},btn:{background:e.palette.error.light,margin:e.spacing(2,0)},title:{fontWeight:700,fontSize:e.spacing(3),marginBottom:e.spacing(4)}}}));function jc(){var e=pc(),t=Object(de.i)().invoiceid,a=Object(de.g)(),r=Object(o.b)(),c=Object(de.h)().state.data,i=Object(o.c)((function(e){return e.invoiceDeleteReducer})),l=Object(n.useState)(!1),u=Object($.a)(l,2),j=u[0],b=u[1];Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.result)&&b(!0)}),[b,i]);var h=function(e,t){"clickaway"!==t&&b(!1)};return Object(re.jsxs)("div",{className:e.overlay,children:[Object(re.jsx)(fe,{handleBack:function(){r(Cr()),a.goBack()}}),Object(re.jsxs)("div",{className:e.container,children:[Object(re.jsx)(B.a,{className:e.title,variant:"h3",component:"h3",children:"Remove Invoice"}),Object(re.jsxs)(B.a,{children:["Are You Sure You wanna Delete Invoice ",Object(re.jsx)("br",{}),Object(re.jsx)("b",{children:null===c||void 0===c?void 0:c.invoiceId})]}),!(null===i||void 0===i?void 0:i.loading)&&!(null===i||void 0===i?void 0:i.result)&&Object(re.jsx)(Ht.a,{variant:"contained",onClick:function(){r(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:vr}),t.prev=1,t.next=4,p.a.delete("https://manage-commerce.herokuapp.com/api/invoice/".concat(e,"/remove"));case 4:n=t.sent,a({type:xr,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:yr,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},className:e.btn,children:"Delete"}),i.loading&&Object(re.jsx)(Xt.a,{color:"inherit"}),Object(re.jsx)(Jt.a,{open:j,onClose:h,children:Object(re.jsx)(Zt.a,{onClose:h,severity:"success",children:"Saved successfully!"})}),i.error&&Object(re.jsx)(B.a,{className:e.failed,children:"Error has occured"})]})]})}var bc=a(423),hc=Object(L.a)((function(){return{app:{position:"relative",minHeight:"100vh"}}}));var Oc=function(){var e=hc(),t=Object(de.g)(),a=Object(o.b)(),r=Object(de.h)(),c=Object(o.c)((function(e){return e.logInReducer})).result;return Object(n.useEffect)((function(){var e=null===c||void 0===c?void 0:c.token;r&&(e&&1e3*Object(bc.a)(e).exp<(new Date).getTime()&&(t.push("/login"),a((function(e){localStorage.removeItem("admin"),e({type:Ut})}))))}),[r,c,t,a]),Object(n.useEffect)((function(){(null===c||void 0===c?void 0:c.token)||t.push("/login")}),[c,t,a]),Object(re.jsx)("div",{className:e.app,children:Object(re.jsxs)(de.d,{children:[Object(re.jsx)(de.a,{exact:!0,from:"/",to:"/store"}),Object(re.jsx)(de.b,{path:"/login",children:Object(re.jsx)(ic,{})}),Object(re.jsx)(de.b,{path:"/store/:ctgry?",children:Object(re.jsx)(Ze,{})}),Object(re.jsx)(de.b,{path:"/product/:id",children:Object(re.jsx)(pt,{})}),Object(re.jsx)(de.b,{path:"/cart/:id?",children:Object(re.jsx)(bt,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/admin",children:Object(re.jsx)(Yt,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/admin/edit",children:Object(re.jsx)(aa,{})}),Object(re.jsx)(de.b,{path:"/admin/allproducts",children:Object(re.jsx)(ia,{})}),Object(re.jsx)(de.b,{path:"/admin/categories",children:Object(re.jsx)(sa,{})}),Object(re.jsx)(de.b,{path:"/admin/edit/:id",children:Object(re.jsx)(ba,{})}),Object(re.jsx)(de.b,{path:"/admin/add",children:Object(re.jsx)(ma,{})}),Object(re.jsx)(de.b,{path:"/admin/remove/:id",children:Object(re.jsx)(va,{})}),Object(re.jsx)(de.b,{path:"/admin/wallet",children:Object(re.jsx)(rn,{})}),Object(re.jsx)(de.b,{path:"/admin/dashboard",children:Object(re.jsx)(ln,{})}),Object(re.jsx)(de.b,{path:"/admin/addcategory",children:Object(re.jsx)(Sa,{})}),Object(re.jsx)(de.b,{path:"/admin/removecategory/:categoryId",children:Object(re.jsx)(wa,{})}),Object(re.jsx)(de.b,{path:"/admin/sales",children:Object(re.jsx)(un,{})}),Object(re.jsx)(de.b,{path:"/admin/removesale/:saleId",children:Object(re.jsx)(jn,{})}),Object(re.jsx)(de.b,{path:"/confirm",children:Object(re.jsx)(Er,{})}),Object(re.jsx)(de.b,{path:"/admin/spending",children:Object(re.jsx)(On,{})}),Object(re.jsx)(de.b,{path:"/admin/addspending",children:Object(re.jsx)(xn,{})}),Object(re.jsx)(de.b,{path:"/admin/removespending/:spendingId",children:Object(re.jsx)(mn,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/loan",children:Object(re.jsx)(Ar,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/loan/add",children:Object(re.jsx)(nc,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/loan/:profileid",children:Object(re.jsx)(Lr,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/loan/:profileid/products",children:Object(re.jsx)(zr,{})}),Object(re.jsx)(de.b,{path:"/loan/:profileid/products/remove/:productsid",children:Object(re.jsx)(Vr,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/loan/:profileid/payments",children:Object(re.jsx)(Gr,{})}),Object(re.jsx)(de.b,{path:"/loan/:profileid/payments/add",children:Object(re.jsx)(Yr,{})}),Object(re.jsx)(de.b,{path:"/loan/:profileid/payments/remove/:paymentid",children:Object(re.jsx)(Xr,{})}),Object(re.jsx)(de.b,{path:"/loan/:profileid/edit",children:Object(re.jsx)(Kr,{})}),Object(re.jsx)(de.b,{path:"/loan/:profileid/delete",children:Object(re.jsx)(ec,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/admin/invoices",children:Object(re.jsx)(uc,{})}),Object(re.jsx)(de.b,{exact:!0,path:"/admin/invoices/:invoiceid/delete",children:Object(re.jsx)(jc,{})})]})})},fc=(a(889),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,992)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))}),mc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function vc(){var e=Object(de.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var xc=a(114),yc=a(424),Sc={fetching:!0,products:[]},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:var a=t.payload,n=e.products.find((function(e){return e._id===a._id}));return n?Object(te.a)(Object(te.a)({},e),{},{products:Object(Ea.a)(e.products.map((function(e){return e._id===n._id&&(e.size.hasOwnProperty(a.size)?e.size[a.size]++:e.size[a.size]=1),e})))}):Object(te.a)(Object(te.a)({},e),{},{products:[].concat(Object(Ea.a)(e.products),[Object(te.a)(Object(te.a)({},a),{},{size:Object(kr.a)({},a.size,1)})])});case Ne:var r=t.payload,c=e.products.filter((function(e,t){return e._id!==r}));return Object(te.a)(Object(te.a)({},e),{},{products:Object(Ea.a)(c)});case Re:return Object(te.a)(Object(te.a)({},e),{},{products:[]});default:return e}},wc={result:null,error:null,loading:!1},Ec={fetching:!0,categories:[]},kc={fetching:!0,sales:[]},Nc={result:null,error:null,loading:!1},Rc={fetching:!0,spendings:[]},_c={fetching:!1,spending:null},Tc={loading:!0,loans:[]},Ic={cartReducer:{products:localStorage.getItem("products")?JSON.parse(localStorage.getItem("products")):[]},logInReducer:{result:{token:localStorage.getItem("admin")?JSON.parse(localStorage.getItem("admin")).token:void 0}}},Ac=Object(xc.c)({productsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(te.a)(Object(te.a)({},e),{},{fetching:!0,products:[1,2,3,4]});case b:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,products:t.payload});case h:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,error:t.payload});default:return e}},productDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetching:!0,product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{fetching:!0};case f:return{fetching:!1,product:t.payload};case m:return{fetching:!1,error:t.payload};case y:return Sc;default:return e}},categoriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(te.a)(Object(te.a)({},e),{},{fetching:!0});case w:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,categories:t.payload});case E:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,error:t.payload});case A:return{};default:return e}},addCategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case N:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case R:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case A:return{};default:return e}},deleteCategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case T:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case I:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case A:return{};default:return e}},allProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{fetching:!0,products:[]};case v:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,products:t.payload});case x:return{fetching:!1,error:t.payload};default:return e}},currSelProdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PROD":return Object(te.a)({},t.payload);default:return e}},currSelCategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PROD":return Object(te.a)({},t.payload);default:return e}},cartReducer:Cc,editReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case St:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case Ct:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Vt:return wc;default:return e}},addReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Et:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case kt:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Vt:return wc;default:return e}},deleteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Rt:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case _t:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Vt:return wc;default:return e}},salesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Na:return Object(te.a)(Object(te.a)({},e),{},{fetching:!0});case Ra:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,sales:t.payload});case _a:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,error:t.payload});default:return e}},addSalesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ta:return Object(te.a)(Object(te.a)({},e),{},{fetching:!0});case Ia:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,result:t.payload});case Aa:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,error:t.payload});case Ua:return Nc;default:return e}},deleteSaleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,payload:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pa:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Da:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case La:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Ua:return{};default:return e}},currSelSaleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PROD":return Object(te.a)({},t.payload);default:return e}},confirmSalesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fa:return Object(te.a)(Object(te.a)({},e),{},{fetching:!0,sales:[]});case Ba:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,sales:t.payload});case za:return Object(te.a)(Object(te.a)({},e),{},{fetching:!1,error:t.payload});default:return e}},spendingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma:return{fetching:!0,spendings:[]};case Ga:return{fetching:!1,spendings:t.payload};case Qa:return{fetching:!1,error:t.payload};default:return e}},addSpendingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qa:return{spending:[],fetching:!0};case Ya:return{fetching:!1,spending:t.payload};case Ha:return{fetching:!1,error:t.payload};case Ka:return{};default:return e}},currSelSpendingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Za:return Object(te.a)({},t.payload);default:return e}},deleteSpendingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xa:return{fetching:!0,spending:null};case Ja:return{fetching:!1,spending:t.payload};case $a:return{fetching:!1,error:t.type};case Ka:return{};default:return e}},loanReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case In:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,loans:t.payload});case An:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},loanProfileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,data:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0,data:null});case Dn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,data:t.payload});case Ln:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},loanProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Bn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,data:t.payload});case zn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},loanProductsAddReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,result:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Un:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Vn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case Wn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{};default:return e}},loanProductsRemoveReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,payload:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Gn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case Qn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{};default:return e}},loanPaymentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Yn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,data:t.payload});case Hn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},loanPaymentsAddReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,payload:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rr:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case cr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case ir:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{};default:return e}},loanPaymentsRemoveReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,payload:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case or:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case lr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,payload:t.payload});case sr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{};default:return e}},loanProfileEditReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,result:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xn:return{loading:!0,result:[]};case Jn:return{loading:!1,result:t.payload};case $n:return{loading:!1,error:t.payload};case dr:return{loading:!1,result:null,error:null};default:return e}},loanProfileDeleteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,result:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kn:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Zn:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case er:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{loading:!1,result:null,error:null};default:return e}},loanProfileAddReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,result:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tr:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case ar:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case nr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case dr:return{loading:!1,result:null,error:null};default:return e}},getProfileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case Dt:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case Lt:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},editProfileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case It:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,response:t.payload});case At:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Vt:return wc;default:return e}},logInReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return{loading:!0,result:null};case Bt:return{loading:!1,result:t.payload};case zt:return{loading:!1,error:t.payload};case Ut:return{};default:return e}},invoiceReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,invoice:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case br:return{loading:!0,invoice:null};case hr:return{loading:!1,invoice:t.payload};case Or:return{loading:!1,error:t.payload};case Sr:return{};default:return e}},invoiceDeleteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,result:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vr:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case xr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,result:t.payload});case yr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Sr:return{};default:return e}},allInvoicesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,invoices:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fr:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case mr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,invoices:t.payload});case gr:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});default:return e}},currSelPaymentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEL_PAY":return Object(te.a)({},t.payload);default:return e}},currSelProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEL_PROD":return Object(te.a)({},t.payload);default:return e}}}),Pc=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xc.d,Dc=Object(xc.e)(Ac,Ic,Pc(Object(xc.a)(yc.a)));i.a.render(Object(re.jsx)(r.a.StrictMode,{children:Object(re.jsxs)(z.a,{children:[Object(re.jsx)(vc,{}),Object(re.jsx)(o.a,{store:Dc,children:Object(re.jsx)(ie,{children:Object(re.jsx)(Oc,{})})})]})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ecommerce",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ecommerce","/service-worker.js");mc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):gc(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):gc(t,e)}))}}(),fc()}},[[890,1,2]]]);
//# sourceMappingURL=main.31e06c81.chunk.js.map